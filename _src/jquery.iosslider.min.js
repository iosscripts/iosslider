/*
 * iosSlider - http://iosscripts.com/iosslider/
 * 
 * A jQuery Horizontal Slider for iPhone/iPad Safari 
 * This plugin turns any wide element into a touch enabled horizontal slider.
 * 
 * Copyright (c) 2012 Marc Whitbread
 * 
 * Version: v1.1.63 (03/02/2013)
 * Minimum requirements: jQuery v1.4+
 *
 * Advanced requirements:
 * 1) jQuery bind() click event override on slide requires jQuery v1.6+
 *
 * Terms of use:
 *
 * 1) iosSlider is licensed under the Creative Commons â€“ Attribution-NonCommercial 3.0 License.
 * 2) You may use iosSlider free for personal or non-profit purposes, without restriction.
 *	  Attribution is not required but always appreciated. For commercial projects, you
 *	  must purchase a license. You may download and play with the script before deciding to
 *	  fully implement it in your project. Making sure you are satisfied, and knowing iosSlider
 *	  is the right script for your project is paramount.
 * 3) You are not permitted to make the resources found on iosscripts.com available for
 *    distribution elsewhere "as is" without prior consent. If you would like to feature
 *    iosSlider on your site, please do not link directly to the resource zip files. Please
 *    link to the appropriate page on iosscripts.com where users can find the download.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 */
 
(function(a){var oa=0,Y=0,ca=0,O=0,Fa="ontouchstart"in window,Ga="onorientationchange"in window,da=!1,Z=!1,$=!1,pa=!1,ha="pointer",va="pointer",qa=[],ia=[],V=[],wa=[],ja=[],H=[],aa=[],z=[],f=[],r=[],xa=[],ea=[],d={showScrollbar:function(n,d){n.scrollbarHide&&a("."+d).css({opacity:n.scrollbarOpacity,filter:"alpha(opacity:"+100*n.scrollbarOpacity+")"})},hideScrollbar:function(a,g,b,t,c,s,f,r,E,x){if(a.scrollbar&&a.scrollbarHide)for(var z=b;z<b+25;z++)g[g.length]=d.hideScrollbarIntervalTimer(10*z,t[b], (b+24-z)/24,c,s,f,r,E,x,a)},hideScrollbarInterval:function(n,g,b,t,c,s,f,z,E){O=-1*n/r[z]*(c-s-f-t);d.setSliderOffset("."+b,O);a("."+b).css({opacity:E.scrollbarOpacity*g,filter:"alpha(opacity:"+100*E.scrollbarOpacity*g+")"})},slowScrollHorizontalInterval:function(n,g,b,t,c,s,T,K,E,x,N,y,u,w,A,p,k,B,j){if(j.infiniteSlider){if(b<=-1*r[p]){var I=a(n).width();if(b<=-1*xa[p]){var q=-1*N[0];a(g).each(function(b){d.setSliderOffset(a(g)[b],q+k);b<y.length&&(y[b]=-1*q);q+=A[b]});b+=-1*y[0];f[p]=-1*y[0]+k; r[p]=f[p]+I-s;z[p]=0}else{var m=0,M=d.getSliderOffset(a(g[0]),"x");a(g).each(function(a){d.getSliderOffset(this,"x")<M&&(M=d.getSliderOffset(this,"x"),m=a)});u=f[p]+I;d.setSliderOffset(a(g)[m],u);f[p]=-1*y[1]+k;r[p]=f[p]+I-s;y.splice(0,1);y.splice(y.length,0,-1*u+k);z[p]++}}if(b>=-1*f[p]||0<=b){I=a(n).width();if(0<=b){q=-1*N[0];a(g).each(function(b){d.setSliderOffset(a(g)[b],q+k);b<y.length&&(y[b]=-1*q);q+=A[b]});b-=-1*y[0];f[p]=-1*y[0]+k;r[p]=f[p]+I-s;for(z[p]=w;0<-1*y[0]-I+k;){var C=0,v=d.getSliderOffset(a(g[0]), "x");a(g).each(function(a){d.getSliderOffset(this,"x")>v&&(v=d.getSliderOffset(this,"x"),C=a)});u=f[p]-A[C];d.setSliderOffset(a(g)[C],u);y.splice(0,0,-1*u+k);y.splice(y.length-1,1);f[p]=-1*y[0]+k;r[p]=f[p]+I-s;z[p]--;H[p]++}}0>b&&(C=0,v=d.getSliderOffset(a(g[0]),"x"),a(g).each(function(a){d.getSliderOffset(this,"x")>v&&(v=d.getSliderOffset(this,"x"),C=a)}),u=f[p]-A[C],d.setSliderOffset(a(g)[C],u),y.splice(0,0,-1*u+k),y.splice(y.length-1,1),f[p]=-1*y[0]+k,r[p]=f[p]+I-s,z[p]--)}}N=!1;s=d.calcActiveOffset(j, b,y,s,z[p],w,x,p);u=(s+z[p]+w)%w;j.infiniteSlider?u!=aa[p]&&(N=!0):s!=H[p]&&(N=!0);if(N&&(w=new d.args(j,n,a(n).children(":eq("+u+")"),u,B,!0),a(n).parent().data("args",w),""!=j.onSlideChange))j.onSlideChange(w);H[p]=s;aa[p]=u;b=Math.floor(b);d.setSliderOffset(n,b);j.scrollbar&&(O=Math.floor((-1*b-f[p]+k)/(r[p]-f[p]+k)*(T-K-c)),n=c-E,b>=-1*f[p]+k?(n=c-E- -1*O,d.setSliderOffset(a("."+t),0)):(b<=-1*r[p]+1&&(n=T-K-E-O),d.setSliderOffset(a("."+t),O)),a("."+t).css({width:n+"px"}))},slowScrollHorizontal:function(n, g,b,t,c,s,T,K,E,x,N,y,u,w,A,p,k,B,j,I,q){s=[];var m=d.getSliderOffset(n,"x"),M=0,C=25/1024*K;frictionCoefficient=q.frictionCoefficient;elasticFrictionCoefficient=q.elasticFrictionCoefficient;snapFrictionCoefficient=q.snapFrictionCoefficient;5<c&&q.snapToChildren&&!j?M=1:-5>c&&(q.snapToChildren&&!j)&&(M=-1);c<-1*C?c=-1*C:c>C&&(c=C);a(n)[0]!==a(B)[0]&&(M*=-1,c*=-2);B=z[A];if(q.infiniteSlider)var v=f[A],l=r[A];j=[];for(var C=[],F=0;F<u.length;F++)j[F]=u[F],F<g.length&&(C[F]=d.getSliderOffset(a(g[F]), "x"));for(;1<c||-1>c;){c*=frictionCoefficient;m+=c;if((m>-1*f[A]||m<-1*r[A])&&!q.infiniteSlider)c*=elasticFrictionCoefficient,m+=c;if(q.infiniteSlider){if(m<=-1*l){for(var l=a(n).width(),O=0,Q=C[0],F=0;F<C.length;F++)C[F]<Q&&(Q=C[F],O=F);F=v+l;C[O]=F;v=-1*j[1]+I;l=v+l-K;j.splice(0,1);j.splice(j.length,0,-1*F+I);B++}if(m>=-1*v){l=a(n).width();O=0;Q=C[0];for(F=0;F<C.length;F++)C[F]>Q&&(Q=C[F],O=F);F=v-w[O];C[O]=F;j.splice(0,0,-1*F+I);j.splice(j.length-1,1);v=-1*j[0]+I;l=v+l-K;B--}}s[s.length]=m}C=!1; c=d.calcActiveOffset(q,m,j,K,B,k,H[A],A);v=(c+B+k)%k;q.snapToChildren&&(q.infiniteSlider?v!=aa[A]&&(C=!0):c!=H[A]&&(C=!0),0>M&&!C?(c++,c>=u.length&&!q.infinteSlider&&(c=u.length-1)):0<M&&!C&&(c--,0>c&&!q.infinteSlider&&(c=0)));if(q.snapToChildren||(m>-1*f[A]||m<-1*r[A])&&!q.infiniteSlider){m=d.getSliderOffset(n,"x");for(s.splice(0,s.length);m<j[c]-0.5||m>j[c]+0.5;)m=(m-j[c])*snapFrictionCoefficient+j[c],s[s.length]=m;s[s.length]=j[c]}M=1;0!=s.length%2&&(M=0);for(m=0;m<b.length;m++)clearTimeout(b[m]); B=(c+B+k)%k;v=0;for(m=M;m<s.length;m+=2)if(m==M||1<Math.abs(s[m]-v)||m>=s.length-2)v=s[m],b[b.length]=d.slowScrollHorizontalIntervalTimer(10*m,n,g,s[m],t,T,K,E,x,N,c,y,u,p,k,w,A,I,B,q);v=(c+z[A]+k)%k;""!=q.onSlideComplete&&(b[b.length]=d.onSlideCompleteTimer(10*(m+1),q,n,a(n).children(":eq("+v+")"),v,A));ja[A]=b;d.hideScrollbar(q,b,m,s,t,T,K,x,N,A)},onSlideComplete:function(n,g,b,t,c){var s=qa[c]!=t?!0:!1;b=new d.args(n,a(g),b,t,t,s);a(g).parent().data("args",b);if(""!=n.onSlideComplete)n.onSlideComplete(b); qa[c]=t},getSliderOffset:function(n,d){var b=0;d="x"==d?4:5;if(da&&!Z&&!$){for(var b=["-webkit-transform","-moz-transform","transform"],t=0;t<b.length;t++)if(void 0!=a(n).css(b[t])&&0<a(n).css(b[t]).length){var c=a(n).css(b[t]).split(",");break}b=parseInt(c[d],10)}else b=parseInt(a(n).css("left"),10);return b},setSliderOffset:function(n,d){da&&!Z&&!$?a(n).css({webkitTransform:"matrix(1,0,0,1,"+d+",0)",MozTransform:"matrix(1,0,0,1,"+d+",0)",transform:"matrix(1,0,0,1,"+d+",0)"}):a(n).css({left:d+"px"})}, setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(ha="-webkit-grab",va="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(ha="move",va="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?pa=Z=!0:null!=navigator.userAgent.match("MSIE 8")?pa=$=!0:null!=navigator.userAgent.match("MSIE 9")&&(pa=!0)},has3DTransform:function(){var d=!1,g=a("<div />").css({webkitTransform:"matrix(1,1,1,1,1,1)",MozTransform:"matrix(1,1,1,1,1,1)",transform:"matrix(1,1,1,1,1,1)"});""==g.attr("style")? d=!1:void 0!=g.attr("style")&&(d=!0);return d},getSlideNumber:function(a,d,b){return(a-z[d]+b)%b},calcActiveOffset:function(a,d,b,t){var c=!1;a=[];for(var s,f=0;f<b.length;f++)b[f]<=d&&b[f]>d-t&&(!c&&b[f]!=d&&(a[a.length]=b[f-1]),a[a.length]=b[f],c=!0);0==a.length&&(a[0]=b[b.length-1]);for(f=c=0;f<a.length;f++){var r=Math.abs(d-a[f]);r<t&&(c=a[f],t=r)}for(f=0;f<b.length;f++)c==b[f]&&(s=f);return s},changeSlide:function(n,g,b,f,c,s,r,K,E,x,N,y,u,w,A,p,k,B){d.autoSlidePause(w);for(var j=0;j<f.length;j++)clearTimeout(f[j]); var I=Math.ceil(B.autoSlideTransTimer/10)+1,q=d.getSliderOffset(g,"x"),m=y[n],M=m-q;if(B.infiniteSlider){n=(n-z[w]+2*p)%p;j=!1;0==n&&2==p&&(n=p,y[n]=y[n-1]-a(b).eq(0).outerWidth(!0),j=!0);m=y[n];M=m-q;m=[y[n]-a(g).width(),y[n]+a(g).width()];j&&y.splice(y.length-1,1);for(j=0;j<m.length;j++)Math.abs(m[j]-q)<Math.abs(M)&&(M=m[j]-q)}var m=[],C;d.showScrollbar(B,c);for(j=0;j<=I;j++)C=j,C/=I,C--,C=q+M*(Math.pow(C,5)+1),m[m.length]=C;for(j=q=0;j<m.length;j++){if(0==j||1<Math.abs(m[j]-q)||j>=m.length-2)q= m[j],f[j]=d.slowScrollHorizontalIntervalTimer(10*(j+1),g,b,m[j],c,s,r,K,E,x,n,N,y,A,p,u,w,k,n,B);0==j&&""!=B.onSlideStart&&(I=(H[w]+z[w]+p)%p,B.onSlideStart(new d.args(B,g,a(g).children(":eq("+I+")"),I,n,!1)))}q=!1;I=(n+z[w]+p)%p;B.infiniteSlider?I!=aa[w]&&(q=!0):n!=H[w]&&(q=!0);q&&""!=B.onSlideComplete&&(f[f.length]=d.onSlideCompleteTimer(10*(j+1),B,g,a(g).children(":eq("+I+")"),I,w));ja[w]=f;d.hideScrollbar(B,f,j,m,c,s,r,E,x,w);d.autoSlide(g,b,f,c,s,r,K,E,x,N,y,u,w,A,p,k,B)},autoSlide:function(a, g,b,f,c,s,r,K,E,x,N,y,u,w,A,p,k){if(!k.autoSlide)return!1;d.autoSlidePause(u);ia[u]=setTimeout(function(){!k.infiniteSlider&&H[u]>N.length-1&&(H[u]-=A);d.changeSlide((H[u]+z[u]+A+1)%A,a,g,b,f,c,s,r,K,E,x,N,y,u,w,A,p,k);d.autoSlide(a,g,b,f,c,s,r,K,E,x,N,y,u,w,A,p,k)},k.autoSlideTimer+k.autoSlideTransTimer)},autoSlidePause:function(a){clearTimeout(ia[a])},isUnselectable:function(d,g){return""!=g.unselectableSelector&&1==a(d).closest(g.unselectableSelector).size()?!0:!1},slowScrollHorizontalIntervalTimer:function(a, g,b,f,c,s,r,z,E,x,H,y,u,w,A,p,k,B,j,I){return setTimeout(function(){d.slowScrollHorizontalInterval(g,b,f,c,s,r,z,E,x,H,y,u,w,A,p,k,B,j,I)},a)},onSlideCompleteTimer:function(a,f,b,t,c,s){return setTimeout(function(){d.onSlideComplete(f,b,t,c,s)},a)},hideScrollbarIntervalTimer:function(a,f,b,t,c,s,r,z,E,x){return setTimeout(function(){d.hideScrollbarInterval(f,b,t,c,s,r,z,E,x)},a)},args:function(n,f,b,t,c,s){this.settings=n;this.data=a(f).parent().data("iosslider");this.slideChanged=s;this.sliderObject= f;this.sliderContainerObject=a(f).parent();this.currentSlideObject=b;this.currentSlideNumber=t+1;this.targetSlideObject=a(f).children(":eq("+c+")");this.targetSlideNumber=c+1;this.currentSliderOffset=-1*d.getSliderOffset(f,"x");try{this.prevSlideNumber=void 0==a(f).parent().data("args")?n.startAtSlide:a(f).parent().data("args").prevSlideNumber==this.currentSlideNumber?a(f).parent().data("args").currentSlideNumber:a(f).parent().data("args").prevSlideNumber,this.prevSlideObject=a(f).children(":eq("+ this.prevSlideNumber+")")}catch(r){}},preventDrag:function(a){a.preventDefault()},preventClick:function(a){a.stopImmediatePropagation();return!1},enableClick:function(){return!0}};d.setBrowserInfo();var S={init:function(n,g){da=d.has3DTransform();var b=a.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6,snapFrictionCoefficient:0.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1,scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"", scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9,desktopClickDrag:!1,keyboardControls:!1,tabToAdvance:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5E3,autoSlideTransTimer:750,infiniteSlider:!1,stageCSS:{position:"relative",top:"0", left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSliderResize:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},n);void 0==g&&(g=this);return a(g).each(function(){function n(){d.autoSlidePause(c);ya=a(G).find("a");Ca=a(G).find("[onclick]");ra=a(G).find("*");a(B).css("width","");a(B).css("height","");a(G).css("width","");D=a(G).children().not("script").get();ka=[];L=[];a(D).css("width","");r[c]=0;l=[];A=a(B).parent().width();j=a(B).outerWidth(!0); b.responsiveSlideContainer&&(j=a(B).outerWidth(!0)>A?A:a(B).outerWidth(!0));a(B).css({position:b.stageCSS.position,top:b.stageCSS.top,left:b.stageCSS.left,overflow:b.stageCSS.overflow,zIndex:b.stageCSS.zIndex,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",width:j});a(b.unselectableSelector).css({cursor:"default"});for(var h=0;h<D.length;h++){ka[h]=a(D[h]).width();L[h]=a(D[h]).outerWidth(!0);var t=L[h];b.responsiveSlides&&(t=L[h]>j?j+-1*(L[h]-ka[h]):ka[h],a(D[h]).css({width:t}));a(D[h]).css({webkitBackfaceVisibility:"hidden", position:"absolute",top:0});l[h]=-1*r[c];r[c]=r[c]+t+(L[h]-ka[h])}b.snapSlideCenter&&(k=0.5*(j-L[0]),b.responsiveSlides&&L[0]>j&&(k=0));xa[c]=2*r[c];for(h=0;h<D.length;h++)d.setSliderOffset(a(D[h]),-1*l[h]+r[c]+k),l[h]-=r[c];if(!b.infiniteSlider&&!b.snapSlideCenter){for(h=0;h<l.length&&!(l[h]<=-1*(2*r[c]-j));h++)ia=h;l.splice(ia+1,l.length);l[l.length]=-1*(2*r[c]-j)}for(h=0;h<l.length;h++)F[h]=l[h];C&&(b.startAtSlide=V[c].startAtSlide>l.length?l.length:V[c].startAtSlide,b.infiniteSlider?(b.startAtSlide= (V[c].startAtSlide-1+J)%J,H[c]=V[c].startAtSlide):(b.startAtSlide=0>V[c].startAtSlide-1?l.length-1:V[c].startAtSlide,H[c]=V[c].startAtSlide-1),aa[c]=H[c]);f[c]=r[c]+k;a(G).css({position:"relative",cursor:ha,webkitPerspective:"0",webkitBackfaceVisibility:"hidden",width:r[c]+"px"});W=r[c];r[c]=2*r[c]-j+2*k;(U=W<j?!0:!1)&&a(G).css({cursor:"default"});p=a(B).parent().outerHeight(!0);I=a(B).height();b.responsiveSlideContainer&&(I=I>p?p:I);a(B).css({height:I});d.setSliderOffset(G,l[H[c]]);if(b.infiniteSlider&& !U){h=d.getSliderOffset(a(G),"x");for(t=-1*((z[c]+J)%J);0>t;){var v=0,la=d.getSliderOffset(a(D[0]),"x");a(D).each(function(a){d.getSliderOffset(this,"x")<la&&(la=d.getSliderOffset(this,"x"),v=a)});var K=f[c]+W;d.setSliderOffset(a(D)[v],K);f[c]=-1*l[1]+k;r[c]=f[c]+W-j;l.splice(0,1);l.splice(l.length,0,-1*K+k);t++}for(;0<-1*l[0]-W+k&&b.snapSlideCenter&&C;){var M=0,O=d.getSliderOffset(a(D[0]),"x");a(D).each(function(a){d.getSliderOffset(this,"x")>O&&(O=d.getSliderOffset(this,"x"),M=a)});K=f[c]-L[M]; d.setSliderOffset(a(D)[M],K);l.splice(0,0,-1*K+k);l.splice(l.length-1,1);f[c]=-1*l[0]+k;r[c]=f[c]+W-j;z[c]--;H[c]++}for(;h<=-1*r[c];)v=0,la=d.getSliderOffset(a(D[0]),"x"),a(D).each(function(a){d.getSliderOffset(this,"x")<la&&(la=d.getSliderOffset(this,"x"),v=a)}),K=f[c]+W,d.setSliderOffset(a(D)[v],K),f[c]=-1*l[1]+k,r[c]=f[c]+W-j,l.splice(0,1),l.splice(l.length,0,-1*K+k),z[c]++,H[c]--}d.setSliderOffset(G,l[H[c]]);b.desktopClickDrag||a(G).css({cursor:"default"});b.scrollbar&&(a("."+E).css({margin:b.scrollbarMargin, overflow:"hidden",display:"none"}),a("."+E+" ."+x).css({border:b.scrollbarBorder}),q=parseInt(a("."+E).css("marginLeft"))+parseInt(a("."+E).css("marginRight")),m=parseInt(a("."+E+" ."+x).css("borderLeftWidth"),10)+parseInt(a("."+E+" ."+x).css("borderRightWidth"),10),u=""!=b.scrollbarContainer?a(b.scrollbarContainer).width():j,w=(u-q)/J,b.scrollbarHide||(S=b.scrollbarOpacity),a("."+E).css({position:"absolute",left:0,width:u-q+"px",margin:b.scrollbarMargin}),"top"==b.scrollbarLocation?a("."+E).css("top", "0"):a("."+E).css("bottom","0"),a("."+E+" ."+x).css({borderRadius:b.scrollbarBorderRadius,background:b.scrollbarBackground,height:b.scrollbarHeight,width:w-m+"px",minWidth:b.scrollbarHeight,border:b.scrollbarBorder,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",position:"relative",opacity:S,filter:"alpha(opacity:"+100*S+")",boxShadow:b.scrollbarShadow}),d.setSliderOffset(a("."+E+" ."+x),Math.floor((-1*l[H[c]]-f[c]+k)/(r[c]-f[c]+k)*(u-q-w))),a("."+E).css({display:"block"}),N=a("."+E+" ."+ x),y=a("."+E));b.scrollbarDrag&&!U&&a("."+E+" ."+x).css({cursor:ha});b.infiniteSlider&&(R=(r[c]+j)/3);""!=b.navSlideSelector&&a(b.navSlideSelector).each(function(h){a(this).css({cursor:"pointer"});a(this).unbind(P).bind(P,function(f){"touchstart"==f.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");P=f.type+".iosSliderEvent";d.changeSlide(h,G,D,g,x,w,j,u,q,m,F,l,L,c,R,J,k,b)})});""!=b.navPrevSelector&&(a(b.navPrevSelector).css({cursor:"pointer"}),a(b.navPrevSelector).unbind(P).bind(P, function(h){"touchstart"==h.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");P=h.type+".iosSliderEvent";h=(H[c]+z[c]+J)%J;(0<h||b.infiniteSlider)&&d.changeSlide(h-1,G,D,g,x,w,j,u,q,m,F,l,L,c,R,J,k,b)}));""!=b.navNextSelector&&(a(b.navNextSelector).css({cursor:"pointer"}),a(b.navNextSelector).unbind(P).bind(P,function(h){"touchstart"==h.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");P=h.type+".iosSliderEvent";h=(H[c]+z[c]+ J)%J;(h<l.length-1||b.infiniteSlider)&&d.changeSlide(h+1,G,D,g,x,w,j,u,q,m,F,l,L,c,R,J,k,b)}));b.autoSlide&&!U&&(""!=b.autoSlideToggleSelector&&(a(b.autoSlideToggleSelector).css({cursor:"pointer"}),a(b.autoSlideToggleSelector).unbind(P).bind(P,function(){"touchstart"==e.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");P=e.type+".iosSliderEvent";fa?(d.autoSlide(G,D,g,x,w,j,u,q,m,F,l,L,c,R,J,k,b),fa=!1,a(b.autoSlideToggleSelector).removeClass("on")):(d.autoSlidePause(c), fa=!0,a(b.autoSlideToggleSelector).addClass("on"))})),!fa&&!U&&d.autoSlide(G,D,g,x,w,j,u,q,m,F,l,L,c,R,J,k,b),a(B).bind("mouseenter.iosSliderEvent",function(){d.autoSlidePause(c)}),a(B).bind("mouseleave.iosSliderEvent",function(){!fa&&!U&&d.autoSlide(G,D,g,x,w,j,u,q,m,F,l,L,c,R,J,k,b)}),a(B).bind("touchend.iosSliderEvent",function(){!fa&&!U&&d.autoSlide(G,D,g,x,w,j,u,q,m,F,l,L,c,R,J,k,b)}));a(B).data("iosslider",{obj:Da,settings:b,scrollerNode:G,slideNodes:D,numberOfSlides:J,centeredSlideOffset:k, sliderNumber:c,originalOffsets:F,childrenOffsets:l,sliderMax:r[c],scrollbarClass:x,scrollbarWidth:w,scrollbarStageWidth:u,stageWidth:j,scrollMargin:q,scrollBorder:m,infiniteSliderOffset:z[c],infiniteSliderWidth:R,slideNodeOuterWidths:L});C=!1;return!0}oa++;var c=oa,g=[];V[c]=b;f[c]=0;r[c]=0;var T=[0,0],K=[0,0],E="scrollbarBlock"+oa,x="scrollbar"+oa,N,y,u,w,A,p,k=0,B=a(this),j,I,q,m,M,C=!0,v=-1,l,F=[],S=0,Q=0,da=0,G=a(this).children(":first-child"),D,ka,L,J=a(G).children().not("script").size(),X=!1, ia=0,za=!1,sa=void 0,R;z[c]=0;var U=!1;qa[c]=-1;var fa=!1;wa[c]=!1;var ta,ua=!1,ma=!1,P="touchstart.iosSliderEvent click.iosSliderEvent",W,ya,Ca,ra;ea[c]=!1;ja[c]=[];b.scrollbarDrag&&(b.scrollbar=!0,b.scrollbarHide=!1);var Da=a(this);if(void 0!=Da.data("iosslider"))return!0;a(this).find("img").bind("dragstart.iosSliderEvent",function(a){a.preventDefault()});b.infiniteSlider&&(b.scrollbar=!1);b.scrollbar&&(""!=b.scrollbarContainer?a(b.scrollbarContainer).append("<div class = '"+E+"'><div class = '"+ x+"'></div></div>"):a(G).parent().append("<div class = '"+E+"'><div class = '"+x+"'></div></div>"));if(!n())return!0;a(this).find("a").bind("mousedown",d.preventDrag);a(this).find("[onclick]").bind("click",d.preventDrag).each(function(){a(this).data("onclick",this.onclick)});var v=d.calcActiveOffset(b,d.getSliderOffset(a(G),"x"),l,j,z[c],J,void 0,c),v=(v+z[c]+J)%J,Ea=new d.args(b,G,a(G).children(":eq("+v+")"),v,v,!1);a(B).data("args",Ea);if(""!=b.onSliderLoaded)b.onSliderLoaded(Ea);qa[c]=v;if(V[c].responsiveSlides|| V[c].responsiveSlideContainer)v=Ga?"orientationchange":"resize",a(window).bind(v+".iosSliderEvent",function(){if(!n())return!0;var c=a(B).data("args");if(""!=b.onSliderResize)b.onSliderResize(c)});(b.keyboardControls||b.tabToAdvance)&&!U&&a(document).bind("keydown.iosSliderEvent",function(a){!Z&&!$&&(a=a.originalEvent);if(37==a.keyCode&&b.keyboardControls)a.preventDefault(),a=(H[c]+z[c]+J)%J,(0<a||b.infiniteSlider)&&d.changeSlide(a-1,G,D,g,x,w,j,u,q,m,F,l,L,c,R,J,k,b);else if(39==a.keyCode&&b.keyboardControls|| 9==a.keyCode&&b.tabToAdvance)a.preventDefault(),a=(H[c]+z[c]+J)%J,(a<l.length-1||b.infiniteSlider)&&d.changeSlide(a+1,G,D,g,x,w,j,u,q,m,F,l,L,c,R,J,k,b)});if(Fa||b.desktopClickDrag){var na=!1,ga=a(G),ba=a(G),Aa=!1;b.scrollbarDrag&&(ga=ga.add(N),ba=ba.add(y));a(ga).bind("mousedown.iosSliderEvent touchstart.iosSliderEvent",function(h){if(na)return!0;na=!0;"touchstart"==h.type?a(ba).unbind("mousedown.iosSliderEvent"):a(ba).unbind("touchstart.iosSliderEvent");if(ea[c]||U||(Aa=d.isUnselectable(h.target, b)))return!0;ta=a(this)[0]===a(N)[0]?N:G;!Z&&!$&&(h=h.originalEvent);d.autoSlidePause(c);ra.unbind(".disableClick");"touchstart"==h.type?(eventX=h.touches[0].pageX,eventY=h.touches[0].pageY):(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),eventX=h.pageX,eventY=h.pageY,za=!0,sa=G,a(this).css({cursor:va}));T=[0,0];K=[0,0];Y=0;X=!1;for(h=0;h<g.length;h++)clearTimeout(g[h]); h=d.getSliderOffset(G,"x");h>-1*f[c]+k+W?(h=-1*f[c]+k+W,d.setSliderOffset(a("."+x),h),a("."+x).css({width:w-m+"px"})):h<-1*r[c]&&(d.setSliderOffset(a("."+x),u-q-w),a("."+x).css({width:w-m+"px"}));T[1]=eventX;K[1]=eventY;ma=!1});a(ba).bind("touchmove.iosSliderEvent mousemove.iosSliderEvent",function(h){"touchmove"==h.type?a(ba).unbind("mousemove.iosSliderEvent"):a(ba).unbind("touchmove.iosSliderEvent");!Z&&!$&&(h=h.originalEvent);if(ea[c]||U||Aa)return!0;var n=0;if("touchmove"==h.type)eventX=h.touches[0].pageX, eventY=h.touches[0].pageY;else if(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),eventX=h.pageX,eventY=h.pageY,!za||!pa&&("undefined"!=typeof h.webkitMovementX||"undefined"!=typeof h.webkitMovementY)&&0===h.webkitMovementY&&0===h.webkitMovementX)return!0;T[0]=T[1];T[1]=eventX;Y=(T[1]-T[0])/2;K[0]=K[1];K[1]=eventY;ca=(K[1]-K[0])/2;if(!X){var g= a(this)[0]===a(N)[0]?f[c]:0;Q=-1*(d.getSliderOffset(this,"x")-eventX-g);d.getSliderOffset(this,"y");var t=(H[c]+z[c]+J)%J,t=new d.args(b,G,a(G).children(":eq("+t+")"),t,t,!1);a(B).data("args",t);if(""!=b.onSlideStart)b.onSlideStart(t)}if((3<ca||-3>ca)&&3>Y&&-3<Y&&"touchmove"==h.type&&!X)ua=!0;(5<Y||-5>Y)&&"touchmove"==h.type?(h.preventDefault(),X=!0):"touchmove"!=h.type&&(X=!0);if(X&&!ua){var t=d.getSliderOffset(G,"x"),g=a(this)[0]===a(y)[0]?f[c]:k,p=a(this)[0]===a(y)[0]?(f[c]-r[c]-k)/(u-q-w):1,s= a(this)[0]===a(y)[0]?b.scrollbarElasticPullResistance:b.elasticPullResistance,C=b.snapSlideCenter&&a(this)[0]===a(y)[0]?0:k,E=b.snapSlideCenter&&a(this)[0]===a(y)[0]?k:0;"touchmove"==h.type&&(da!=h.touches.length&&(Q=-1*t+eventX),da=h.touches.length);if(b.infiniteSlider){if(t<=-1*r[c]){var v=a(G).width();if(t<=-1*xa[c]){var A=-1*F[0];a(D).each(function(b){d.setSliderOffset(a(D)[b],A+k);b<l.length&&(l[b]=-1*A);A+=L[b]});Q-=-1*l[0];f[c]=-1*l[0]+k;r[c]=f[c]+v-j;z[c]=0}else{var I=0,R=d.getSliderOffset(a(D[0]), "x");a(D).each(function(a){d.getSliderOffset(this,"x")<R&&(R=d.getSliderOffset(this,"x"),I=a)});s=f[c]+v;d.setSliderOffset(a(D)[I],s);f[c]=-1*l[1]+k;r[c]=f[c]+v-j;l.splice(0,1);l.splice(l.length,0,-1*s+k);z[c]++}}if(t>=-1*f[c]||0<=t)if(v=a(G).width(),0<=t){A=-1*F[0];a(D).each(function(b){d.setSliderOffset(a(D)[b],A+k);b<l.length&&(l[b]=-1*A);A+=L[b]});Q+=-1*l[0];f[c]=-1*l[0]+k;r[c]=f[c]+v-j;for(z[c]=J;0<-1*l[0]-v+k;){var P=0,S=d.getSliderOffset(a(D[0]),"x");a(D).each(function(a){d.getSliderOffset(this, "x")>S&&(S=d.getSliderOffset(this,"x"),P=a)});s=f[c]-L[P];d.setSliderOffset(a(D)[P],s);l.splice(0,0,-1*s+k);l.splice(l.length-1,1);f[c]=-1*l[0]+k;r[c]=f[c]+v-j;z[c]--;H[c]++}}else P=0,S=d.getSliderOffset(a(D[0]),"x"),a(D).each(function(a){d.getSliderOffset(this,"x")>S&&(S=d.getSliderOffset(this,"x"),P=a)}),s=f[c]-L[P],d.setSliderOffset(a(D)[P],s),l.splice(0,0,-1*s+k),l.splice(l.length-1,1),f[c]=-1*l[0]+k,r[c]=f[c]+v-j,z[c]--}else v=a(G).width(),t>-1*f[c]+k&&(n=-1*(f[c]+-1*(Q-g-eventX+C)*p-g)*s/p), t<-1*r[c]&&(n=-1*(r[c]+E+-1*(Q-g-eventX)*p-g)*s/p);d.setSliderOffset(G,-1*(Q-g-eventX-n)*p-g+E);b.scrollbar&&(d.showScrollbar(b,x),O=Math.floor((Q-eventX-n-f[c]+C)/(r[c]-f[c]+k)*(u-q-w)*p),g=w,t>=-1*f[c]+C+v?(g=w-m- -1*O,d.setSliderOffset(a("."+x),0),a("."+x).css({width:g+"px"})):t<=-1*r[c]+1?(g=u-q-m-O,d.setSliderOffset(a("."+x),O),a("."+x).css({width:g+"px"})):d.setSliderOffset(a("."+x),O));"touchmove"==h.type&&(M=h.touches[0].pageX);h=!1;n=d.calcActiveOffset(b,-1*(Q-eventX-n),l,j,z[c],J,void 0, c);v=(n+z[c]+J)%J;b.infiniteSlider?v!=aa[c]&&(h=!0):n!=H[c]&&(h=!0);if(h&&(H[c]=n,aa[c]=v,ma=!0,t=new d.args(b,G,a(G).children(":eq("+v+")"),v,v,!0),a(B).data("args",t),""!=b.onSlideChange))b.onSlideChange(t)}na=!1});var Ba=a(window);if($||Z)Ba=a(document);a(ga).bind("touchend.iosSliderEvent",function(h){a(Ba).unbind("mouseup.iosSliderEvent"+c);h=h.originalEvent;if(ea[c]||U||Aa)return!0;if(0!=h.touches.length)for(var f=0;f<h.touches.length;f++)h.touches[f].pageX==M&&d.slowScrollHorizontal(G,D,g,x, Y,ca,w,j,u,q,m,F,l,L,c,R,J,ta,ma,k,b);else d.slowScrollHorizontal(G,D,g,x,Y,ca,w,j,u,q,m,F,l,L,c,R,J,ta,ma,k,b);na=ua=!1});a(Ba).bind("mouseup.iosSliderEvent"+c,function(){a(ga).unbind("touchend.iosSliderEvent");X?ya.unbind("click.disableClick").bind("click.disableClick",d.preventClick):ya.unbind("click.disableClick").bind("click.disableClick",d.enableClick);Ca.each(function(){this.onclick=function(b){if(X)return!1;a(this).data("onclick").call(this,b||window.event)}});1.8<=parseFloat(a().jquery)? ra.each(function(){var b=a._data(this,"events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!X)return!1;a(this).one("click.disableClick",d.preventClick);var b=a._data(this,"events").click,c=b.pop();b.splice(0,0,c)}}):1.6<=parseFloat(a().jquery)&&ra.each(function(){var b=a(this).data("events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!X)return!1;a(this).one("click.disableClick",d.preventClick);var b=a(this).data("events").click,c=b.pop(); b.splice(0,0,c)}});if(!wa[c]){if(U)return!0;a(ga).css({cursor:ha});za=!1;if(void 0==sa)return!0;d.slowScrollHorizontal(sa,D,g,x,Y,ca,w,j,u,q,m,F,l,L,c,R,J,ta,ma,k,b);sa=void 0}na=ua=!1})}})},destroy:function(f,g){void 0==g&&(g=this);return a(g).each(function(){var b=a(this),g=b.data("iosslider");if(void 0==g)return!1;void 0==f&&(f=!0);d.autoSlidePause(g.sliderNumber);wa[g.sliderNumber]=!0;a(window).unbind(".iosSliderEvent-"+g.sliderNumber);a(window).unbind(".iosSliderEvent");a(document).unbind(".iosSliderEvent-"+ g.sliderNumber);a(document).unbind("keydown.iosSliderEvent");a(this).unbind(".iosSliderEvent");a(this).children(":first-child").unbind(".iosSliderEvent");a(this).children(":first-child").children().unbind(".iosSliderEvent");f&&(a(this).attr("style",""),a(this).children(":first-child").attr("style",""),a(this).children(":first-child").children().attr("style",""),a(g.settings.navSlideSelector).attr("style",""),a(g.settings.navPrevSelector).attr("style",""),a(g.settings.navNextSelector).attr("style", ""),a(g.settings.autoSlideToggleSelector).attr("style",""),a(g.settings.unselectableSelector).attr("style",""));g.settings.scrollbar&&a(".scrollbarBlock"+g.sliderNumber).remove();for(var g=ja[g.sliderNumber],c=0;c<g.length;c++)clearTimeout(g[c]);b.removeData("iosslider");b.removeData("args")})},update:function(f){void 0==f&&(f=this);return a(f).each(function(){var g=a(this),b=g.data("iosslider");if(void 0==b)return!1;b.settings.startAtSlide=g.data("args").currentSlideNumber;S.destroy(!1,this);1!= b.numberOfSlides&&b.settings.infiniteSlider&&(b.settings.startAtSlide=(H[b.sliderNumber]+1+z[b.sliderNumber]+b.numberOfSlides)%b.numberOfSlides);S.init(b.settings,this);g=new d.args(b.settings,b.scrollerNode,a(b.scrollerNode).children(":eq("+(b.settings.startAtSlide-1)+")"),b.settings.startAtSlide-1,b.settings.startAtSlide-1,!1);a(b.stageNode).data("args",g);if(""!=b.settings.onSliderUpdate)b.settings.onSliderUpdate(g)})},addSlide:function(d,g){return this.each(function(){var b=a(this),f=b.data("iosslider"); if(void 0==f)return!1;0==a(f.scrollerNode).children().size()?(a(f.scrollerNode).append(d),b.data("args").currentSlideNumber=1):f.settings.infiniteSlider?(1==g?a(f.scrollerNode).children(":eq(0)").before(d):a(f.scrollerNode).children(":eq("+(g-2)+")").after(d),-1>z[f.sliderNumber]&&H[f.sliderNumber]--,b.data("args").currentSlideNumber>=g&&H[f.sliderNumber]++):(g<=f.numberOfSlides?a(f.scrollerNode).children(":eq("+(g-1)+")").before(d):a(f.scrollerNode).children(":eq("+(g-2)+")").after(d),b.data("args").currentSlideNumber>= g&&b.data("args").currentSlideNumber++);b.data("iosslider").numberOfSlides++;S.update(this)})},removeSlide:function(d){return this.each(function(){var f=a(this).data("iosslider");if(void 0==f)return!1;a(f.scrollerNode).children(":eq("+(d-1)+")").remove();H[f.sliderNumber]>d-1&&H[f.sliderNumber]--;S.update(this)})},goToSlide:function(f,g){void 0==g&&(g=this);return a(g).each(function(){var b=a(this).data("iosslider");if(void 0==b)return!1;f=f>b.childrenOffsets.length?b.childrenOffsets.length-1:f-1; d.changeSlide(f,a(b.scrollerNode),a(b.slideNodes),ja[b.sliderNumber],b.scrollbarClass,b.scrollbarWidth,b.stageWidth,b.scrollbarStageWidth,b.scrollMargin,b.scrollBorder,b.originalOffsets,b.childrenOffsets,b.slideNodeOuterWidths,b.sliderNumber,b.infiniteSliderWidth,b.numberOfSlides,b.centeredSlideOffset,b.settings);H[b.sliderNumber]=f})},lock:function(){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;ea[d.sliderNumber]=!0})},unlock:function(){return this.each(function(){var d= a(this).data("iosslider");if(void 0==d)return!1;ea[d.sliderNumber]=!1})},getData:function(){return this.each(function(){var d=a(this).data("iosslider");return void 0==d?!1:d})}};a.fn.iosSlider=function(d){if(S[d])return S[d].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof d||!d)return S.init.apply(this,arguments);a.error("invalid method call!")}})(jQuery);