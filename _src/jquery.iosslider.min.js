/*
 * iosSlider - http://iosscripts.com/iosslider/
 * 
 * Touch Enabled, Responsive jQuery Horizontal Content Slider/Carousel/Image Gallery Plugin
 *
 * A jQuery plugin which allows you to integrate a customizable, cross-browser 
 * content slider into your web presence. Designed for use as a content slider, carousel, 
 * scrolling website banner, or image gallery.
 * 
 * Copyright (c) 2013 Marc Whitbread
 * 
 * Version: v1.2.18 (05/13/2013)
 * Minimum requirements: jQuery v1.4+
 *
 * Advanced requirements:
 * 1) jQuery bind() click event override on slide requires jQuery v1.6+
 *
 * Terms of use:
 *
 * 1) iosSlider is licensed under the Creative Commons â€“ Attribution-NonCommercial 3.0 License.
 * 2) You may use iosSlider free for personal or non-profit purposes, without restriction.
 *	  Attribution is not required but always appreciated. For commercial projects, you
 *	  must purchase a license. You may download and play with the script before deciding to
 *	  fully implement it in your project. Making sure you are satisfied, and knowing iosSlider
 *	  is the right script for your project is paramount.
 * 3) You are not permitted to make the resources found on iosscripts.com available for
 *    distribution elsewhere "as is" without prior consent. If you would like to feature
 *    iosSlider on your site, please do not link directly to the resource zip files. Please
 *    link to the appropriate page on iosscripts.com where users can find the download.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 */
 
(function(a){var la=0,V=0,aa=0,M=0,Aa="ontouchstart"in window,Ba="onorientationchange"in window,ba=!1,Y=!1,W=!1,ma=!1,ea="pointer",ra="pointer",fa=[],R=[],sa=[],ca=[],H=[],Z=[],z=[],j=[],q=[],ta=[],da=[],e={showScrollbar:function(d,e){d.scrollbarHide&&a("."+e).css({opacity:d.scrollbarOpacity,filter:"alpha(opacity:"+100*d.scrollbarOpacity+")"})},hideScrollbar:function(a,f,b,w,c,g,j,q,E,u){if(a.scrollbar&&a.scrollbarHide)for(var z=b;z<b+25;z++)f[f.length]=e.hideScrollbarIntervalTimer(10*z,w[b],(b+24- z)/24,c,g,j,q,E,u,a)},hideScrollbarInterval:function(d,f,b,w,c,g,j,z,E){M=-1*d/q[z]*(c-g-j-w);e.setSliderOffset("."+b,M);a("."+b).css({opacity:E.scrollbarOpacity*f,filter:"alpha(opacity:"+100*E.scrollbarOpacity*f+")"})},slowScrollHorizontalInterval:function(d,f,b,w,c,g,ga,O,E,u,K,x,r,s,v,k,l,A,h){if(h.infiniteSlider){if(b<=-1*q[k]){var J=a(d).width();if(b<=-1*ta[k]){var p=-1*K[0];a(f).each(function(b){e.setSliderOffset(a(f)[b],p+l);b<x.length&&(x[b]=-1*p);p+=v[b]});b+=-1*x[0];j[k]=-1*x[0]+l;q[k]= j[k]+J-g;z[k]=0}else{var n=0,G=e.getSliderOffset(a(f[0]),"x");a(f).each(function(b){e.getSliderOffset(this,"x")<G&&(G=e.getSliderOffset(this,"x"),n=b)});r=j[k]+J;e.setSliderOffset(a(f)[n],r);j[k]=-1*x[1]+l;q[k]=j[k]+J-g;x.splice(0,1);x.splice(x.length,0,-1*r+l);z[k]++}}if(b>=-1*j[k]||0<=b){J=a(d).width();if(0<=b){p=-1*K[0];a(f).each(function(b){e.setSliderOffset(a(f)[b],p+l);b<x.length&&(x[b]=-1*p);p+=v[b]});b-=-1*x[0];j[k]=-1*x[0]+l;q[k]=j[k]+J-g;for(z[k]=s;0<-1*x[0]-J+l;){var t=0,y=e.getSliderOffset(a(f[0]), "x");a(f).each(function(b){e.getSliderOffset(this,"x")>y&&(y=e.getSliderOffset(this,"x"),t=b)});r=j[k]-v[t];e.setSliderOffset(a(f)[t],r);x.splice(0,0,-1*r+l);x.splice(x.length-1,1);j[k]=-1*x[0]+l;q[k]=j[k]+J-g;z[k]--;H[k]++}}0>b&&(t=0,y=e.getSliderOffset(a(f[0]),"x"),a(f).each(function(b){e.getSliderOffset(this,"x")>y&&(y=e.getSliderOffset(this,"x"),t=b)}),r=j[k]-v[t],e.setSliderOffset(a(f)[t],r),x.splice(0,0,-1*r+l),x.splice(x.length-1,1),j[k]=-1*x[0]+l,q[k]=j[k]+J-g,z[k]--)}}K=!1;g=e.calcActiveOffset(h, b,x,g,z[k],s,u,k);r=(g+z[k]+s)%s;h.infiniteSlider?r!=Z[k]&&(K=!0):g!=H[k]&&(K=!0);if(K&&(s=new e.args("change",h,d,a(d).children(":eq("+r+")"),r,A),a(d).parent().data("args",s),""!=h.onSlideChange))h.onSlideChange(s);H[k]=g;Z[k]=r;b=Math.floor(b);e.setSliderOffset(d,b);h.scrollbar&&(M=Math.floor((-1*b-j[k]+l)/(q[k]-j[k]+l)*(ga-O-c)),d=c-E,b>=-1*j[k]+l?(d=c-E- -1*M,e.setSliderOffset(a("."+w),0)):(b<=-1*q[k]+1&&(d=ga-O-E-M),e.setSliderOffset(a("."+w),M)),a("."+w).css({width:d+"px"}))},slowScrollHorizontal:function(d, f,b,w,c,g,ga,O,E,u,K,x,r,s,v,k,l,A,h,J,p){var n=e.getSliderOffset(d,"x");g=[];var G=0,t=25/1024*O;frictionCoefficient=p.frictionCoefficient;elasticFrictionCoefficient=p.elasticFrictionCoefficient;snapFrictionCoefficient=p.snapFrictionCoefficient;c>p.snapVelocityThreshold&&p.snapToChildren&&!h?G=1:c<-1*p.snapVelocityThreshold&&(p.snapToChildren&&!h)&&(G=-1);c<-1*t?c=-1*t:c>t&&(c=t);a(d)[0]!==a(A)[0]&&(G*=-1,c*=-2);A=z[v];if(p.infiniteSlider)var y=j[v],m=q[v];h=[];for(var t=[],C=0;C<r.length;C++)h[C]= r[C],C<f.length&&(t[C]=e.getSliderOffset(a(f[C]),"x"));for(;1<c||-1>c;){c*=frictionCoefficient;n+=c;if((n>-1*j[v]||n<-1*q[v])&&!p.infiniteSlider)c*=elasticFrictionCoefficient,n+=c;if(p.infiniteSlider){if(n<=-1*m){for(var m=a(d).width(),M=0,Q=t[0],C=0;C<t.length;C++)t[C]<Q&&(Q=t[C],M=C);C=y+m;t[M]=C;y=-1*h[1]+J;m=y+m-O;h.splice(0,1);h.splice(h.length,0,-1*C+J);A++}if(n>=-1*y){m=a(d).width();M=0;Q=t[0];for(C=0;C<t.length;C++)t[C]>Q&&(Q=t[C],M=C);C=y-s[M];t[M]=C;h.splice(0,0,-1*C+J);h.splice(h.length- 1,1);y=-1*h[0]+J;m=y+m-O;A--}}g[g.length]=n}t=!1;c=e.calcActiveOffset(p,n,h,O,A,l,H[v],v);y=(c+A+l)%l;p.snapToChildren&&(p.infiniteSlider?y!=Z[v]&&(t=!0):c!=H[v]&&(t=!0),0>G&&!t?(c++,c>=r.length&&!p.infinteSlider&&(c=r.length-1)):0<G&&!t&&(c--,0>c&&!p.infinteSlider&&(c=0)));if(p.snapToChildren||(n>-1*j[v]||n<-1*q[v])&&!p.infiniteSlider){(n>-1*j[v]||n<-1*q[v])&&!p.infiniteSlider?g.splice(0,g.length):(g.splice(0.1*g.length,g.length),n=0<g.length?g[g.length-1]:n);for(;n<h[c]-0.5||n>h[c]+0.5;)n=(n-h[c])* snapFrictionCoefficient+h[c],g[g.length]=n;g[g.length]=h[c]}G=1;0!=g.length%2&&(G=0);for(n=0;n<b.length;n++)clearTimeout(b[n]);A=(c+A+l)%l;y=0;for(n=G;n<g.length;n+=2)if(n==G||1<Math.abs(g[n]-y)||n>=g.length-2)y=g[n],b[b.length]=e.slowScrollHorizontalIntervalTimer(10*n,d,f,g[n],w,ga,O,E,u,K,c,x,r,k,l,s,v,J,A,p);y=(c+z[v]+l)%l;""!=p.onSlideComplete&&(b[b.length]=e.onSlideCompleteTimer(10*(n+1),p,d,a(d).children(":eq("+y+")"),A,v));ca[v]=b;e.hideScrollbar(p,b,n,g,w,ga,O,u,K,v)},onSlideComplete:function(d, f,b,w){b=new e.args("complete",d,a(f),b,w,w);a(f).parent().data("args",b);if(""!=d.onSlideComplete)d.onSlideComplete(b)},getSliderOffset:function(d,e){var b=0;e="x"==e?4:5;if(ba&&!Y&&!W){for(var b=["-webkit-transform","-moz-transform","transform"],w=0;w<b.length;w++)if(void 0!=a(d).css(b[w])&&0<a(d).css(b[w]).length){var c=a(d).css(b[w]).split(",");break}b=parseInt(c[e],10)}else b=parseInt(a(d).css("left"),10);return b},setSliderOffset:function(d,e){ba&&!Y&&!W?a(d).css({webkitTransform:"matrix(1,0,0,1,"+ e+",0)",MozTransform:"matrix(1,0,0,1,"+e+",0)",transform:"matrix(1,0,0,1,"+e+",0)"}):a(d).css({left:e+"px"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(ea="-webkit-grab",ra="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(ea="move",ra="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?ma=Y=!0:null!=navigator.userAgent.match("MSIE 8")?ma=W=!0:null!=navigator.userAgent.match("MSIE 9")&&(ma=!0)},has3DTransform:function(){var d=!1,e=a("<div />").css({webkitTransform:"matrix(1,1,1,1,1,1)", MozTransform:"matrix(1,1,1,1,1,1)",transform:"matrix(1,1,1,1,1,1)"});""==e.attr("style")?d=!1:void 0!=e.attr("style")&&(d=!0);return d},getSlideNumber:function(a,e,b){return(a-z[e]+b)%b},calcActiveOffset:function(a,e,b,w,c,g){c=!1;a=[];var j;e>b[0]&&(j=0);e<b[b.length-1]&&(j=g-1);for(g=0;g<b.length;g++)b[g]<=e&&b[g]>e-w&&(!c&&b[g]!=e&&(a[a.length]=b[g-1]),a[a.length]=b[g],c=!0);0==a.length&&(a[0]=b[b.length-1]);for(g=c=0;g<a.length;g++){var q=Math.abs(e-a[g]);q<w&&(c=a[g],w=q)}for(g=0;g<b.length;g++)c== b[g]&&(j=g);return j},changeSlide:function(d,f,b,w,c,g,j,q,E,u,K,x,r,s,v,k,l,A){e.autoSlidePause(s);for(var h=0;h<w.length;h++)clearTimeout(w[h]);var J=Math.ceil(A.autoSlideTransTimer/10)+1,p=e.getSliderOffset(f,"x"),n=x[d],n=n-p,G=d-(H[s]+z[s]+k)%k;if(A.infiniteSlider){d=(d-z[s]+2*k)%k;h=!1;0==d&&2==k&&(d=k,x[d]=x[d-1]-a(b).eq(0).outerWidth(!0),h=!0);var n=x[d],n=n-p,t=[x[d]-a(f).width(),x[d]+a(f).width()];h&&x.splice(x.length-1,1);for(h=0;h<t.length;h++)Math.abs(t[h]-p)<Math.abs(n)&&(n=t[h]-p); 0>n&&-1==G?n+=a(f).width():0<n&&1==G&&(n-=a(f).width())}G=[];e.showScrollbar(A,c);for(h=0;h<=J;h++)t=h,t/=J,t--,t=p+n*(Math.pow(t,5)+1),G[G.length]=t;for(h=p=0;h<G.length;h++){if(0==h||1<Math.abs(G[h]-p)||h>=G.length-2)p=G[h],w[h]=e.slowScrollHorizontalIntervalTimer(10*(h+1),f,b,G[h],c,g,j,q,E,u,d,K,x,v,k,r,s,l,d,A);0==h&&""!=A.onSlideStart&&(J=(H[s]+z[s]+k)%k,A.onSlideStart(new e.args("start",A,f,a(f).children(":eq("+J+")"),J,d)))}p=!1;J=(d+z[s]+k)%k;A.infiniteSlider?J!=Z[s]&&(p=!0):d!=H[s]&&(p= !0);p&&""!=A.onSlideComplete&&(w[w.length]=e.onSlideCompleteTimer(10*(h+1),A,f,a(f).children(":eq("+J+")"),J,s));ca[s]=w;e.hideScrollbar(A,w,h,G,c,g,j,E,u,s);e.autoSlide(f,b,w,c,g,j,q,E,u,K,x,r,s,v,k,l,A)},autoSlide:function(a,f,b,w,c,g,j,q,E,u,K,x,r,s,v,k,l){if(!R[r].autoSlide)return!1;e.autoSlidePause(r);fa[r]=setTimeout(function(){!l.infiniteSlider&&H[r]>K.length-1&&(H[r]-=v);e.changeSlide((H[r]+z[r]+v)%v+1,a,f,b,w,c,g,j,q,E,u,K,x,r,s,v,k,l);e.autoSlide(a,f,b,w,c,g,j,q,E,u,K,x,r,s,v,k,l)},l.autoSlideTimer+ l.autoSlideTransTimer)},autoSlidePause:function(a){clearTimeout(fa[a])},isUnselectable:function(e,f){return""!=f.unselectableSelector&&1==a(e).closest(f.unselectableSelector).size()?!0:!1},slowScrollHorizontalIntervalTimer:function(a,f,b,w,c,g,j,q,z,u,H,x,r,s,v,k,l,A,h,J){return setTimeout(function(){e.slowScrollHorizontalInterval(f,b,w,c,g,j,q,z,u,H,x,r,s,v,k,l,A,h,J)},a)},onSlideCompleteTimer:function(a,f,b,w,c,g){return setTimeout(function(){e.onSlideComplete(f,b,w,c,g)},a)},hideScrollbarIntervalTimer:function(a, f,b,w,c,g,j,q,z,u){return setTimeout(function(){e.hideScrollbarInterval(f,b,w,c,g,j,q,z,u)},a)},args:function(d,f,b,j,c,g){this.prevSlideNumber=void 0==a(b).parent().data("args")?void 0:a(b).parent().data("args").prevSlideNumber;this.prevSlideObject=void 0==a(b).parent().data("args")?void 0:a(b).parent().data("args").prevSlideObject;this.targetSlideNumber=g+1;this.targetSlideObject=a(b).children(":eq("+this.targetSlideOffset+")");this.slideChanged=!1;"load"==d?this.targetSlideObject=this.targetSlideNumber= void 0:"start"==d?this.targetSlideObject=this.targetSlideNumber=void 0:"change"==d?(this.slideChanged=!0,this.prevSlideNumber=void 0==a(b).parent().data("args")?f.startAtSlide:a(b).parent().data("args").currentSlideNumber,this.prevSlideObject=a(b).children(":eq("+this.prevSlideNumber+")")):"complete"==d&&(this.slideChanged=a(b).parent().data("args").slideChanged);this.settings=f;this.data=a(b).parent().data("iosslider");this.sliderObject=b;this.sliderContainerObject=a(b).parent();this.currentSlideObject= j;this.currentSlideNumber=c+1;this.currentSliderOffset=-1*e.getSliderOffset(b,"x")},preventDrag:function(a){a.preventDefault()},preventClick:function(a){a.stopImmediatePropagation();return!1},enableClick:function(){return!0}};e.setBrowserInfo();var P={init:function(d,f){ba=e.has3DTransform();var b=a.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6,snapFrictionCoefficient:0.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1, scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9,desktopClickDrag:!1,keyboardControls:!1,tabToAdvance:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5E3,autoSlideTransTimer:750, infiniteSlider:!1,snapVelocityThreshold:5,slideStartVelocityThreshold:0,horizontalSlideLockThreshold:5,verticalSlideLockThreshold:3,stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSliderResize:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},d);void 0==f&&(f=this);return a(f).each(function(){function d(){e.autoSlidePause(c);ua=a(D).find("a");ya=a(D).find("[onclick]");na=a(D).find("*");a(A).css("width", "");a(A).css("height","");a(D).css("width","");B=a(D).children().not("script").get();ha=[];L=[];a(B).css("width","");q[c]=0;m=[];v=a(A).parent().width();h=a(A).outerWidth(!0);b.responsiveSlideContainer&&(h=a(A).outerWidth(!0)>v?v:a(A).outerWidth(!0));a(A).css({position:b.stageCSS.position,top:b.stageCSS.top,left:b.stageCSS.left,overflow:b.stageCSS.overflow,zIndex:b.stageCSS.zIndex,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",msTouchAction:"pan-y",width:h});a(b.unselectableSelector).css({cursor:"default"}); for(var F=0;F<B.length;F++){ha[F]=a(B[F]).width();L[F]=a(B[F]).outerWidth(!0);var f=L[F];b.responsiveSlides&&(f=L[F]>h?h+-1*(L[F]-ha[F]):ha[F],a(B[F]).css({width:f}));a(B[F]).css({webkitBackfaceVisibility:"hidden",position:"absolute",top:0});m[F]=-1*q[c];q[c]=q[c]+f+(L[F]-ha[F])}b.snapSlideCenter&&(l=0.5*(h-L[0]),b.responsiveSlides&&L[0]>h&&(l=0));ta[c]=2*q[c];for(F=0;F<B.length;F++)e.setSliderOffset(a(B[F]),-1*m[F]+q[c]+l),m[F]-=q[c];if(!b.infiniteSlider&&!b.snapSlideCenter){for(F=0;F<m.length&& !(m[F]<=-1*(2*q[c]-h));F++)fa=F;m.splice(fa+1,m.length);m[m.length]=-1*(2*q[c]-h)}for(F=0;F<m.length;F++)C[F]=m[F];t&&(b.startAtSlide=R[c].startAtSlide>m.length?m.length:R[c].startAtSlide,b.infiniteSlider?(b.startAtSlide=(R[c].startAtSlide-1+I)%I,H[c]=R[c].startAtSlide):(b.startAtSlide=0>R[c].startAtSlide-1?m.length-1:R[c].startAtSlide,H[c]=R[c].startAtSlide-1),Z[c]=H[c]);j[c]=q[c]+l;a(D).css({position:"relative",cursor:ea,webkitPerspective:"0",webkitBackfaceVisibility:"hidden",width:q[c]+"px"}); S=q[c];q[c]=2*q[c]-h+2*l;(X=S<h?!0:!1)&&a(D).css({cursor:"default"});k=a(A).parent().outerHeight(!0);J=a(A).height();b.responsiveSlideContainer&&(J=J>k?k:J);a(A).css({height:J});e.setSliderOffset(D,m[H[c]]);if(b.infiniteSlider&&!X){F=e.getSliderOffset(a(D),"x");for(f=-1*((z[c]+I)%I);0>f;){var w=0,y=e.getSliderOffset(a(B[0]),"x");a(B).each(function(a){e.getSliderOffset(this,"x")<y&&(y=e.getSliderOffset(this,"x"),w=a)});var G=j[c]+S;e.setSliderOffset(a(B)[w],G);j[c]=-1*m[1]+l;q[c]=j[c]+S-h;m.splice(0, 1);m.splice(m.length,0,-1*G+l);f++}for(;0<-1*m[0]-S+l&&b.snapSlideCenter&&t;){var M=0,O=e.getSliderOffset(a(B[0]),"x");a(B).each(function(a){e.getSliderOffset(this,"x")>O&&(O=e.getSliderOffset(this,"x"),M=a)});G=j[c]-L[M];e.setSliderOffset(a(B)[M],G);m.splice(0,0,-1*G+l);m.splice(m.length-1,1);j[c]=-1*m[0]+l;q[c]=j[c]+S-h;z[c]--;H[c]++}for(;F<=-1*q[c];)w=0,y=e.getSliderOffset(a(B[0]),"x"),a(B).each(function(a){e.getSliderOffset(this,"x")<y&&(y=e.getSliderOffset(this,"x"),w=a)}),G=j[c]+S,e.setSliderOffset(a(B)[w], G),j[c]=-1*m[1]+l,q[c]=j[c]+S-h,m.splice(0,1),m.splice(m.length,0,-1*G+l),z[c]++,H[c]--}e.setSliderOffset(D,m[H[c]]);b.desktopClickDrag||a(D).css({cursor:"default"});b.scrollbar&&(a("."+E).css({margin:b.scrollbarMargin,overflow:"hidden",display:"none"}),a("."+E+" ."+u).css({border:b.scrollbarBorder}),p=parseInt(a("."+E).css("marginLeft"))+parseInt(a("."+E).css("marginRight")),n=parseInt(a("."+E+" ."+u).css("borderLeftWidth"),10)+parseInt(a("."+E+" ."+u).css("borderRightWidth"),10),r=""!=b.scrollbarContainer? a(b.scrollbarContainer).width():h,s=(r-p)/I,b.scrollbarHide||(P=b.scrollbarOpacity),a("."+E).css({position:"absolute",left:0,width:r-p+"px",margin:b.scrollbarMargin}),"top"==b.scrollbarLocation?a("."+E).css("top","0"):a("."+E).css("bottom","0"),a("."+E+" ."+u).css({borderRadius:b.scrollbarBorderRadius,background:b.scrollbarBackground,height:b.scrollbarHeight,width:s-n+"px",minWidth:b.scrollbarHeight,border:b.scrollbarBorder,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",position:"relative", opacity:P,filter:"alpha(opacity:"+100*P+")",boxShadow:b.scrollbarShadow}),e.setSliderOffset(a("."+E+" ."+u),Math.floor((-1*m[H[c]]-j[c]+l)/(q[c]-j[c]+l)*(r-p-s))),a("."+E).css({display:"block"}),K=a("."+E+" ."+u),x=a("."+E));b.scrollbarDrag&&!X&&a("."+E+" ."+u).css({cursor:ea});b.infiniteSlider&&(N=(q[c]+h)/3);""!=b.navSlideSelector&&a(b.navSlideSelector).each(function(d){a(this).css({cursor:"pointer"});a(this).unbind(T).bind(T,function(F){"touchstart"==F.type?a(this).unbind("click.iosSliderEvent"): a(this).unbind("touchstart.iosSliderEvent");T=F.type+".iosSliderEvent";e.changeSlide(d,D,B,g,u,s,h,r,p,n,C,m,L,c,N,I,l,b)})});""!=b.navPrevSelector&&(a(b.navPrevSelector).css({cursor:"pointer"}),a(b.navPrevSelector).unbind(T).bind(T,function(d){"touchstart"==d.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");T=d.type+".iosSliderEvent";d=(H[c]+z[c]+I)%I;(0<d||b.infiniteSlider)&&e.changeSlide(d-1,D,B,g,u,s,h,r,p,n,C,m,L,c,N,I,l,b)}));""!=b.navNextSelector&&(a(b.navNextSelector).css({cursor:"pointer"}), a(b.navNextSelector).unbind(T).bind(T,function(d){"touchstart"==d.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");T=d.type+".iosSliderEvent";d=(H[c]+z[c]+I)%I;(d<m.length-1||b.infiniteSlider)&&e.changeSlide(d+1,D,B,g,u,s,h,r,p,n,C,m,L,c,N,I,l,b)}));b.autoSlide&&!X&&""!=b.autoSlideToggleSelector&&(a(b.autoSlideToggleSelector).css({cursor:"pointer"}),a(b.autoSlideToggleSelector).unbind(T).bind(T,function(d){"touchstart"==d.type?a(this).unbind("click.iosSliderEvent"): a(this).unbind("touchstart.iosSliderEvent");T=d.type+".iosSliderEvent";va?(e.autoSlide(D,B,g,u,s,h,r,p,n,C,m,L,c,N,I,l,b),va=!1,a(b.autoSlideToggleSelector).removeClass("on")):(e.autoSlidePause(c),va=!0,a(b.autoSlideToggleSelector).addClass("on"))}));e.autoSlide(D,B,g,u,s,h,r,p,n,C,m,L,c,N,I,l,b);a(A).bind("mouseleave.iosSliderEvent",function(){e.autoSlide(D,B,g,u,s,h,r,p,n,C,m,L,c,N,I,l,b)});a(A).bind("touchend.iosSliderEvent",function(){e.autoSlide(D,B,g,u,s,h,r,p,n,C,m,L,c,N,I,l,b)});a(A).bind("mouseenter.iosSliderEvent", function(){e.autoSlidePause(c)});a(A).data("iosslider",{obj:za,settings:b,scrollerNode:D,slideNodes:B,numberOfSlides:I,centeredSlideOffset:l,sliderNumber:c,originalOffsets:C,childrenOffsets:m,sliderMax:q[c],scrollbarClass:u,scrollbarWidth:s,scrollbarStageWidth:r,stageWidth:h,scrollMargin:p,scrollBorder:n,infiniteSliderOffset:z[c],infiniteSliderWidth:N,slideNodeOuterWidths:L});t=!1;return!0}la++;var c=la,g=[];R[c]=b;j[c]=0;q[c]=0;var f=[0,0],O=[0,0],E="scrollbarBlock"+la,u="scrollbar"+la,K,x,r,s,v, k,l=0,A=a(this),h,J,p,n,G,t=!0,y=-1,m,C=[],P=0,Q=0,ba=0,D=a(this).children(":first-child"),B,ha,L,I=a(D).children().not("script").size(),U=!1,fa=0,wa=!1,oa=void 0,N;z[c]=0;var X=!1,va=!1;sa[c]=!1;var pa,qa=!1,ia=!1,T="touchstart.iosSliderEvent click.iosSliderEvent",S,ua,ya,na;da[c]=!1;ca[c]=[];b.scrollbarDrag&&(b.scrollbar=!0,b.scrollbarHide=!1);var za=a(this);if(void 0!=za.data("iosslider"))return!0;a(this).find("img").bind("dragstart.iosSliderEvent",function(a){a.preventDefault()});b.infiniteSlider&& (b.scrollbar=!1);b.infiniteSlider&&1==I&&(b.infiniteSlider=!1);b.scrollbar&&(""!=b.scrollbarContainer?a(b.scrollbarContainer).append("<div class = '"+E+"'><div class = '"+u+"'></div></div>"):a(D).parent().append("<div class = '"+E+"'><div class = '"+u+"'></div></div>"));if(!d())return!0;a(this).find("a").bind("mousedown",e.preventDrag);a(this).find("[onclick]").bind("click",e.preventDrag).each(function(){a(this).data("onclick",this.onclick)});y=e.calcActiveOffset(b,e.getSliderOffset(a(D),"x"),m,h, z[c],I,void 0,c);y=(y+z[c]+I)%I;y=new e.args("load",b,D,a(D).children(":eq("+y+")"),y,y);a(A).data("args",y);if(""!=b.onSliderLoaded)b.onSliderLoaded(y);if(R[c].responsiveSlides||R[c].responsiveSlideContainer)y=Ba?"orientationchange":"resize",a(window).bind(y+".iosSliderEvent-"+c,function(){if(!d())return!0;var c=a(A).data("args");if(""!=b.onSliderResize)b.onSliderResize(c)});(b.keyboardControls||b.tabToAdvance)&&!X&&a(document).bind("keydown.iosSliderEvent",function(a){!Y&&!W&&(a=a.originalEvent); if(37==a.keyCode&&b.keyboardControls)a.preventDefault(),a=(H[c]+z[c]+I)%I,(0<a||b.infiniteSlider)&&e.changeSlide(a-1,D,B,g,u,s,h,r,p,n,C,m,L,c,N,I,l,b);else if(39==a.keyCode&&b.keyboardControls||9==a.keyCode&&b.tabToAdvance)a.preventDefault(),a=(H[c]+z[c]+I)%I,(a<m.length-1||b.infiniteSlider)&&e.changeSlide(a+1,D,B,g,u,s,h,r,p,n,C,m,L,c,N,I,l,b)});if(Aa||b.desktopClickDrag){var $=!1,ja=a(D),ka=a(D),xa=!1;b.scrollbarDrag&&(ja=ja.add(K),ka=ka.add(x));a(ja).bind("mousedown.iosSliderEvent touchstart.iosSliderEvent", function(d){if($)return!0;$=!0;"touchstart"==d.type?a(ka).unbind("mousedown.iosSliderEvent"):a(ka).unbind("touchstart.iosSliderEvent");if(da[c]||X||(xa=e.isUnselectable(d.target,b)))return U=$=!1,!0;pa=a(this)[0]===a(K)[0]?K:D;!Y&&!W&&(d=d.originalEvent);e.autoSlidePause(c);na.unbind(".disableClick");if("touchstart"==d.type)eventX=d.touches[0].pageX,eventY=d.touches[0].pageY;else{if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&& window.getSelection().removeAllRanges();else if(document.selection)if(W)try{document.selection.empty()}catch(h){}else document.selection.empty();eventX=d.pageX;eventY=d.pageY;wa=!0;oa=D;a(this).css({cursor:ra})}f=[0,0];O=[0,0];V=0;U=!1;for(d=0;d<g.length;d++)clearTimeout(g[d]);d=e.getSliderOffset(D,"x");d>-1*j[c]+l+S?(d=-1*j[c]+l+S,e.setSliderOffset(a("."+u),d),a("."+u).css({width:s-n+"px"})):d<-1*q[c]&&(e.setSliderOffset(a("."+u),r-p-s),a("."+u).css({width:s-n+"px"}));d=a(this)[0]===a(K)[0]?j[c]: 0;Q=-1*(e.getSliderOffset(this,"x")-eventX-d);e.getSliderOffset(this,"y");f[1]=eventX;O[1]=eventY;ia=!1});a(ka).bind("touchmove.iosSliderEvent mousemove.iosSliderEvent",function(d){!Y&&!W&&(d=d.originalEvent);if(da[c]||X||xa)return!0;var g=0;if("touchmove"==d.type)eventX=d.touches[0].pageX,eventY=d.touches[0].pageY;else{if(window.getSelection)window.getSelection().empty||window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges();else if(document.selection)if(W)try{document.selection.empty()}catch(w){}else document.selection.empty(); eventX=d.pageX;eventY=d.pageY;if(!wa||!ma&&("undefined"!=typeof d.webkitMovementX||"undefined"!=typeof d.webkitMovementY)&&0===d.webkitMovementY&&0===d.webkitMovementX)return!0}f[0]=f[1];f[1]=eventX;V=(f[1]-f[0])/2;O[0]=O[1];O[1]=eventY;aa=(O[1]-O[0])/2;if(!U){var k=(H[c]+z[c]+I)%I,k=new e.args("start",b,D,a(D).children(":eq("+k+")"),k,void 0);a(A).data("args",k);if(""!=b.onSlideStart)b.onSlideStart(k)}if((aa>b.verticalSlideLockThreshold||aa<-1*b.verticalSlideLockThreshold)&&"touchmove"==d.type&& !U)qa=!0;(V>b.horizontalSlideLockThreshold||V<-1*b.horizontalSlideLockThreshold)&&"touchmove"==d.type&&d.preventDefault();if(V>b.slideStartVelocityThreshold||V<-1*b.slideStartVelocityThreshold)U=!0;if(U&&!qa){var k=e.getSliderOffset(D,"x"),t=a(this)[0]===a(x)[0]?j[c]:l,y=a(this)[0]===a(x)[0]?(j[c]-q[c]-l)/(r-p-s):1,v=a(this)[0]===a(x)[0]?b.scrollbarElasticPullResistance:b.elasticPullResistance,E=b.snapSlideCenter&&a(this)[0]===a(x)[0]?0:l,J=b.snapSlideCenter&&a(this)[0]===a(x)[0]?l:0;"touchmove"== d.type&&(ba!=d.touches.length&&(Q=-1*k+eventX),ba=d.touches.length);if(b.infiniteSlider){if(k<=-1*q[c]){var K=a(D).width();if(k<=-1*ta[c]){var N=-1*C[0];a(B).each(function(b){e.setSliderOffset(a(B)[b],N+l);b<m.length&&(m[b]=-1*N);N+=L[b]});Q-=-1*m[0];j[c]=-1*m[0]+l;q[c]=j[c]+K-h;z[c]=0}else{var R=0,T=e.getSliderOffset(a(B[0]),"x");a(B).each(function(a){e.getSliderOffset(this,"x")<T&&(T=e.getSliderOffset(this,"x"),R=a)});v=j[c]+K;e.setSliderOffset(a(B)[R],v);j[c]=-1*m[1]+l;q[c]=j[c]+K-h;m.splice(0, 1);m.splice(m.length,0,-1*v+l);z[c]++}}if(k>=-1*j[c]||0<=k)if(K=a(D).width(),0<=k){N=-1*C[0];a(B).each(function(b){e.setSliderOffset(a(B)[b],N+l);b<m.length&&(m[b]=-1*N);N+=L[b]});Q+=-1*m[0];j[c]=-1*m[0]+l;q[c]=j[c]+K-h;for(z[c]=I;0<-1*m[0]-K+l;){var P=0,S=e.getSliderOffset(a(B[0]),"x");a(B).each(function(a){e.getSliderOffset(this,"x")>S&&(S=e.getSliderOffset(this,"x"),P=a)});v=j[c]-L[P];e.setSliderOffset(a(B)[P],v);m.splice(0,0,-1*v+l);m.splice(m.length-1,1);j[c]=-1*m[0]+l;q[c]=j[c]+K-h;z[c]--;H[c]++}}else P= 0,S=e.getSliderOffset(a(B[0]),"x"),a(B).each(function(a){e.getSliderOffset(this,"x")>S&&(S=e.getSliderOffset(this,"x"),P=a)}),v=j[c]-L[P],e.setSliderOffset(a(B)[P],v),m.splice(0,0,-1*v+l),m.splice(m.length-1,1),j[c]=-1*m[0]+l,q[c]=j[c]+K-h,z[c]--}else K=a(D).width(),k>-1*j[c]+l&&(g=-1*(j[c]+-1*(Q-t-eventX+E)*y-t)*v/y),k<-1*q[c]&&(g=-1*(q[c]+J+-1*(Q-t-eventX)*y-t)*v/y);e.setSliderOffset(D,-1*(Q-t-eventX-g)*y-t+J);b.scrollbar&&(e.showScrollbar(b,u),M=Math.floor((Q-eventX-g-j[c]+E)/(q[c]-j[c]+l)*(r- p-s)*y),k=s,0>=M?(k=s-n- -1*M,e.setSliderOffset(a("."+u),0),a("."+u).css({width:k+"px"})):M>=r-p-n-s?(k=r-p-n-M,e.setSliderOffset(a("."+u),M),a("."+u).css({width:k+"px"})):e.setSliderOffset(a("."+u),M));"touchmove"==d.type&&(G=d.touches[0].pageX);d=!1;g=e.calcActiveOffset(b,-1*(Q-eventX-g),m,h,z[c],I,void 0,c);k=(g+z[c]+I)%I;b.infiniteSlider?k!=Z[c]&&(d=!0):g!=H[c]&&(d=!0);if(d&&(H[c]=g,Z[c]=k,ia=!0,k=new e.args("change",b,D,a(D).children(":eq("+k+")"),k,k),a(A).data("args",k),""!=b.onSlideChange))b.onSlideChange(k)}$= !1});y=a(window);if(W||Y)y=a(document);a(ja).bind("touchend.iosSliderEvent",function(a){a=a.originalEvent;if(da[c]||X||xa)return!0;if(0!=a.touches.length)for(var d=0;d<a.touches.length;d++)a.touches[d].pageX==G&&e.slowScrollHorizontal(D,B,g,u,V,aa,s,h,r,p,n,C,m,L,c,N,I,pa,ia,l,b);else e.slowScrollHorizontal(D,B,g,u,V,aa,s,h,r,p,n,C,m,L,c,N,I,pa,ia,l,b);$=qa=!1});a(y).bind("mouseup.iosSliderEvent"+c,function(){U?ua.unbind("click.disableClick").bind("click.disableClick",e.preventClick):ua.unbind("click.disableClick").bind("click.disableClick", e.enableClick);ya.each(function(){this.onclick=function(b){if(U)return!1;a(this).data("onclick").call(this,b||window.event)}});1.8<=parseFloat(a().jquery)?na.each(function(){var b=a._data(this,"events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!U)return!1;a(this).one("click.disableClick",e.preventClick);var b=a._data(this,"events").click,c=b.pop();b.splice(0,0,c)}}):1.6<=parseFloat(a().jquery)&&na.each(function(){var b=a(this).data("events");if(void 0!=b&&void 0!= b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!U)return!1;a(this).one("click.disableClick",e.preventClick);var b=a(this).data("events").click,c=b.pop();b.splice(0,0,c)}});if(!sa[c]){if(X)return!0;a(ja).css({cursor:ea});wa=!1;if(void 0==oa)return!0;e.slowScrollHorizontal(oa,B,g,u,V,aa,s,h,r,p,n,C,m,L,c,N,I,pa,ia,l,b);oa=void 0}$=qa=!1})}})},destroy:function(d,f){void 0==f&&(f=this);return a(f).each(function(){var b=a(this),f=b.data("iosslider");if(void 0==f)return!1;void 0==d&&(d=!0);e.autoSlidePause(f.sliderNumber); sa[f.sliderNumber]=!0;a(window).unbind(".iosSliderEvent-"+f.sliderNumber);a(document).unbind(".iosSliderEvent-"+f.sliderNumber);a(document).unbind("keydown.iosSliderEvent");a(this).unbind(".iosSliderEvent");a(this).children(":first-child").unbind(".iosSliderEvent");a(this).children(":first-child").children().unbind(".iosSliderEvent");d&&(a(this).attr("style",""),a(this).children(":first-child").attr("style",""),a(this).children(":first-child").children().attr("style",""),a(f.settings.navSlideSelector).attr("style", ""),a(f.settings.navPrevSelector).attr("style",""),a(f.settings.navNextSelector).attr("style",""),a(f.settings.autoSlideToggleSelector).attr("style",""),a(f.settings.unselectableSelector).attr("style",""));f.settings.scrollbar&&a(".scrollbarBlock"+f.sliderNumber).remove();for(var f=ca[f.sliderNumber],c=0;c<f.length;c++)clearTimeout(f[c]);b.removeData("iosslider");b.removeData("args")})},update:function(d){void 0==d&&(d=this);return a(d).each(function(){var d=a(this),b=d.data("iosslider");if(void 0== b)return!1;b.settings.startAtSlide=d.data("args").currentSlideNumber;P.destroy(!1,this);1!=b.numberOfSlides&&b.settings.infiniteSlider&&(b.settings.startAtSlide=(H[b.sliderNumber]+1+z[b.sliderNumber]+b.numberOfSlides)%b.numberOfSlides);P.init(b.settings,this);d=new e.args("update",b.settings,b.scrollerNode,a(b.scrollerNode).children(":eq("+(b.settings.startAtSlide-1)+")"),b.settings.startAtSlide-1,b.settings.startAtSlide-1);a(b.stageNode).data("args",d);if(""!=b.settings.onSliderUpdate)b.settings.onSliderUpdate(d)})}, addSlide:function(d,e){return this.each(function(){var b=a(this),j=b.data("iosslider");if(void 0==j)return!1;0==a(j.scrollerNode).children().size()?(a(j.scrollerNode).append(d),b.data("args").currentSlideNumber=1):j.settings.infiniteSlider?(1==e?a(j.scrollerNode).children(":eq(0)").before(d):a(j.scrollerNode).children(":eq("+(e-2)+")").after(d),-1>z[j.sliderNumber]&&H[j.sliderNumber]--,b.data("args").currentSlideNumber>=e&&H[j.sliderNumber]++):(e<=j.numberOfSlides?a(j.scrollerNode).children(":eq("+ (e-1)+")").before(d):a(j.scrollerNode).children(":eq("+(e-2)+")").after(d),b.data("args").currentSlideNumber>=e&&b.data("args").currentSlideNumber++);b.data("iosslider").numberOfSlides++;P.update(this)})},removeSlide:function(d){return this.each(function(){var e=a(this).data("iosslider");if(void 0==e)return!1;a(e.scrollerNode).children(":eq("+(d-1)+")").remove();H[e.sliderNumber]>d-1&&H[e.sliderNumber]--;P.update(this)})},goToSlide:function(d,f){void 0==f&&(f=this);return a(f).each(function(){var b= a(this).data("iosslider");if(void 0==b)return!1;d=d>b.childrenOffsets.length?b.childrenOffsets.length-1:d-1;e.changeSlide(d,a(b.scrollerNode),a(b.slideNodes),ca[b.sliderNumber],b.scrollbarClass,b.scrollbarWidth,b.stageWidth,b.scrollbarStageWidth,b.scrollMargin,b.scrollBorder,b.originalOffsets,b.childrenOffsets,b.slideNodeOuterWidths,b.sliderNumber,b.infiniteSliderWidth,b.numberOfSlides,b.centeredSlideOffset,b.settings);H[b.sliderNumber]=d})},lock:function(){return this.each(function(){var d=a(this).data("iosslider"); if(void 0==d)return!1;da[d.sliderNumber]=!0})},unlock:function(){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;da[d.sliderNumber]=!1})},getData:function(){return this.each(function(){var d=a(this).data("iosslider");return void 0==d?!1:d})},autoSlidePause:function(){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;R[d.sliderNumber].autoSlide=!1;e.autoSlidePause(d.sliderNumber);return d})},autoSlidePlay:function(){return this.each(function(){var d= a(this).data("iosslider");if(void 0==d)return!1;R[d.sliderNumber].autoSlide=!0;e.autoSlide(a(d.scrollerNode),a(d.slideNodes),ca[d.sliderNumber],d.scrollbarClass,d.scrollbarWidth,d.stageWidth,d.scrollbarStageWidth,d.scrollMargin,d.scrollBorder,d.originalOffsets,d.childrenOffsets,d.slideNodeOuterWidths,d.sliderNumber,d.infiniteSliderWidth,d.numberOfSlides,d.centeredSlideOffset,d.settings);return d})}};a.fn.iosSlider=function(d){if(P[d])return P[d].apply(this,Array.prototype.slice.call(arguments,1)); if("object"===typeof d||!d)return P.init.apply(this,arguments);a.error("invalid method call!")}})(jQuery);