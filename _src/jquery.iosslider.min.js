/*
 * iosSlider - http://iosscripts.com/iosslider/
 * 
 * Touch Enabled, Responsive jQuery Horizontal Content Slider/Carousel/Image Gallery Plugin
 *
 * A jQuery plugin which allows you to integrate a customizable, cross-browser 
 * content slider into your web presence. Designed for use as a content slider, carousel, 
 * scrolling website banner, or image gallery.
 * 
 * Copyright (c) 2013 Marc Whitbread
 * 
 * Version: v1.3.3 (07/02/2013)
 * Minimum requirements: jQuery v1.4+
 *
 * Advanced requirements:
 * 1) jQuery bind() click event override on slide requires jQuery v1.6+
 *
 * Terms of use:
 *
 * 1) iosSlider is licensed under the Creative Commons â€“ Attribution-NonCommercial 3.0 License.
 * 2) You may use iosSlider free for personal or non-profit purposes, without restriction.
 *	  Attribution is not required but always appreciated. For commercial projects, you
 *	  must purchase a license. You may download and play with the script before deciding to
 *	  fully implement it in your project. Making sure you are satisfied, and knowing iosSlider
 *	  is the right script for your project is paramount.
 * 3) You are not permitted to make the resources found on iosscripts.com available for
 *    distribution elsewhere "as is" without prior consent. If you would like to feature
 *    iosSlider on your site, please do not link directly to the resource zip files. Please
 *    link to the appropriate page on iosscripts.com where users can find the download.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 */
 
(function(b){var ma=0,W=0,da=0,L=0,Aa="ontouchstart"in window,Ba="onorientationchange"in window,ea=!1,aa=!1,X=!1,na=!1,ha="pointer",ra="pointer",ia=[],T=[],sa=[],$=[],B=[],ba=[],w=[],h=[],r=[],ta=[],fa=[],e={showScrollbar:function(a,e){a.scrollbarHide&&b("."+e).css({opacity:a.scrollbarOpacity,filter:"alpha(opacity:"+100*a.scrollbarOpacity+")"})},hideScrollbar:function(b,f,c,v,g,d,h,r,B,w){if(b.scrollbar&&b.scrollbarHide)for(var s=c;s<c+25;s++)f[f.length]=e.hideScrollbarIntervalTimer(10*s,v[c],(c+ 24-s)/24,g,d,h,r,B,w,b)},hideScrollbarInterval:function(a,f,c,v,g,d,h,B,w){L=-1*a/r[B]*(g-d-h-v);e.setSliderOffset("."+c,L);b("."+c).css({opacity:w.scrollbarOpacity*f,filter:"alpha(opacity:"+100*w.scrollbarOpacity*f+")"})},slowScrollHorizontalInterval:function(a,f,c,v,g,d,K,O,N,I,s,y,z,x,u,p,G,n,m){if(m.infiniteSlider){if(c<=-1*r[p]){var q=b(a).width();if(c<=-1*ta[p]){var t=-1*s[0];b(f).each(function(c){e.setSliderOffset(b(f)[c],t+G);c<y.length&&(y[c]=-1*t);t+=u[c]});c+=-1*y[0];h[p]=-1*y[0]+G;r[p]= h[p]+q-d;w[p]=0}else{var l=0,C=e.getSliderOffset(b(f[0]),"x");b(f).each(function(c){e.getSliderOffset(this,"x")<C&&(C=e.getSliderOffset(this,"x"),l=c)});z=h[p]+q;e.setSliderOffset(b(f)[l],z);h[p]=-1*y[1]+G;r[p]=h[p]+q-d;y.splice(0,1);y.splice(y.length,0,-1*z+G);w[p]++}}if(c>=-1*h[p]||0<=c){q=b(a).width();if(0<=c)for(t=-1*s[0],b(f).each(function(c){e.setSliderOffset(b(f)[c],t+G);c<y.length&&(y[c]=-1*t);t+=u[c]}),c-=-1*y[0],h[p]=-1*y[0]+G,r[p]=h[p]+q-d,w[p]=x;0<-1*y[0]-q+G;){var A=0,J=e.getSliderOffset(b(f[0]), "x");b(f).each(function(c){e.getSliderOffset(this,"x")>J&&(J=e.getSliderOffset(this,"x"),A=c)});z=h[p]-u[A];e.setSliderOffset(b(f)[A],z);y.splice(0,0,-1*z+G);y.splice(y.length-1,1);h[p]=-1*y[0]+G;r[p]=h[p]+q-d;w[p]--;B[p]++}0>c&&(A=0,J=e.getSliderOffset(b(f[0]),"x"),b(f).each(function(c){e.getSliderOffset(this,"x")>J&&(J=e.getSliderOffset(this,"x"),A=c)}),z=h[p]-u[A],e.setSliderOffset(b(f)[A],z),y.splice(0,0,-1*z+G),y.splice(y.length-1,1),h[p]=-1*y[0]+G,r[p]=h[p]+q-d,w[p]--)}}s=!1;d=e.calcActiveOffset(m, c,y,d,w[p],x,I,p);z=(d+w[p]+x)%x;m.infiniteSlider?z!=ba[p]&&(s=!0):d!=B[p]&&(s=!0);if(s&&(x=new e.args("change",m,a,b(a).children(":eq("+z+")"),z,n),b(a).parent().data("args",x),""!=m.onSlideChange))m.onSlideChange(x);B[p]=d;ba[p]=z;c=Math.floor(c);e.setSliderOffset(a,c);m.scrollbar&&(L=Math.floor((-1*c-h[p]+G)/(r[p]-h[p]+G)*(K-O-g)),a=g-N,c>=-1*h[p]+G?(a=g-N- -1*L,e.setSliderOffset(b("."+v),0)):(c<=-1*r[p]+1&&(a=K-O-N-L),e.setSliderOffset(b("."+v),L)),b("."+v).css({width:a+"px"}))},slowScrollHorizontal:function(a, f,c,v,g,d,K,O,N,I,s,y,z,x,u,p,G,n,m,q,t){var l=e.getSliderOffset(a,"x");d=[];var C=0,A=25/1024*O;frictionCoefficient=t.frictionCoefficient;elasticFrictionCoefficient=t.elasticFrictionCoefficient;snapFrictionCoefficient=t.snapFrictionCoefficient;g>t.snapVelocityThreshold&&t.snapToChildren&&!m?C=1:g<-1*t.snapVelocityThreshold&&(t.snapToChildren&&!m)&&(C=-1);g<-1*A?g=-1*A:g>A&&(g=A);b(a)[0]!==b(n)[0]&&(C*=-1,g*=-2);n=w[u];if(t.infiniteSlider)var J=h[u],k=r[u];m=[];for(var A=[],E=0;E<z.length;E++)m[E]= z[E],E<f.length&&(A[E]=e.getSliderOffset(b(f[E]),"x"));for(;1<g||-1>g;){g*=frictionCoefficient;l+=g;(l>-1*h[u]||l<-1*r[u])&&!t.infiniteSlider&&(g*=elasticFrictionCoefficient,l+=g);if(t.infiniteSlider){if(l<=-1*k){for(var k=b(a).width(),L=0,Q=A[0],E=0;E<A.length;E++)A[E]<Q&&(Q=A[E],L=E);E=J+k;A[L]=E;J=-1*m[1]+q;k=J+k-O;m.splice(0,1);m.splice(m.length,0,-1*E+q);n++}if(l>=-1*J){k=b(a).width();L=0;Q=A[0];for(E=0;E<A.length;E++)A[E]>Q&&(Q=A[E],L=E);E=J-x[L];A[L]=E;m.splice(0,0,-1*E+q);m.splice(m.length- 1,1);J=-1*m[0]+q;k=J+k-O;n--}}d[d.length]=l}A=!1;g=e.calcActiveOffset(t,l,m,O,n,G,B[u],u);J=(g+n+G)%G;t.snapToChildren&&(t.infiniteSlider?J!=ba[u]&&(A=!0):g!=B[u]&&(A=!0),0>C&&!A?(g++,g>=z.length&&!t.infinteSlider&&(g=z.length-1)):0<C&&!A&&(g--,0>g&&!t.infinteSlider&&(g=0)));if(t.snapToChildren||(l>-1*h[u]||l<-1*r[u])&&!t.infiniteSlider){(l>-1*h[u]||l<-1*r[u])&&!t.infiniteSlider?d.splice(0,d.length):(d.splice(0.1*d.length,d.length),l=0<d.length?d[d.length-1]:l);for(;l<m[g]-0.5||l>m[g]+0.5;)l=(l-m[g])* snapFrictionCoefficient+m[g],d[d.length]=l;d[d.length]=m[g]}C=1;0!=d.length%2&&(C=0);for(l=0;l<c.length;l++)clearTimeout(c[l]);n=(g+n+G)%G;J=0;for(l=C;l<d.length;l+=2)if(l==C||1<Math.abs(d[l]-J)||l>=d.length-2)J=d[l],c[c.length]=e.slowScrollHorizontalIntervalTimer(10*l,a,f,d[l],v,K,O,N,I,s,g,y,z,p,G,x,u,q,n,t);J=(g+w[u]+G)%G;""!=t.onSlideComplete&&1<d.length&&(c[c.length]=e.onSlideCompleteTimer(10*(l+1),t,a,b(a).children(":eq("+J+")"),n,u));$[u]=c;e.hideScrollbar(t,c,l,d,v,K,O,I,s,u)},onSlideComplete:function(a, f,c,v,g){c=new e.args("complete",a,b(f),c,v,v);b(f).parent().data("args",c);if(""!=a.onSlideComplete)a.onSlideComplete(c)},getSliderOffset:function(a,e){var c=0;e="x"==e?4:5;if(!ea||aa||X)c=parseInt(b(a).css("left"),10);else{for(var c=["-webkit-transform","-moz-transform","transform"],v=0;v<c.length;v++)if(void 0!=b(a).css(c[v])&&0<b(a).css(c[v]).length){var g=b(a).css(c[v]).split(",");break}c=parseInt(g[e],10)}return c},setSliderOffset:function(a,e){!ea||aa||X?b(a).css({left:e+"px"}):b(a).css({webkitTransform:"matrix(1,0,0,1,"+ e+",0)",MozTransform:"matrix(1,0,0,1,"+e+",0)",transform:"matrix(1,0,0,1,"+e+",0)"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(ha="-webkit-grab",ra="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(ha="move",ra="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?na=aa=!0:null!=navigator.userAgent.match("MSIE 8")?na=X=!0:null!=navigator.userAgent.match("MSIE 9")&&(na=!0)},has3DTransform:function(){var a=!1,e=b("<div />").css({webkitTransform:"matrix(1,1,1,1,1,1)", MozTransform:"matrix(1,1,1,1,1,1)",transform:"matrix(1,1,1,1,1,1)"});""==e.attr("style")?a=!1:22<=parseInt(navigator.userAgent.split("/")[3],10)?a=!1:void 0!=e.attr("style")&&(a=!0);return a},getSlideNumber:function(b,e,c){return(b-w[e]+c)%c},calcActiveOffset:function(b,e,c,v,g,d,h,r){g=!1;b=[];var w;e>c[0]&&(w=0);e<c[c.length-1]&&(w=d-1);for(d=0;d<c.length;d++)c[d]<=e&&c[d]>e-v&&(g||c[d]==e||(b[b.length]=c[d-1]),b[b.length]=c[d],g=!0);0==b.length&&(b[0]=c[c.length-1]);for(d=g=0;d<b.length;d++)h= Math.abs(e-b[d]),h<v&&(g=b[d],v=h);for(d=0;d<c.length;d++)g==c[d]&&(w=d);return w},changeSlide:function(a,f,c,v,g,d,h,r,N,I,s,y,z,x,u,p,G,n){e.autoSlidePause(x);for(var m=0;m<v.length;m++)clearTimeout(v[m]);var q=Math.ceil(n.autoSlideTransTimer/10)+1,t=e.getSliderOffset(f,"x"),l=y[a],l=l-t,C=a-(B[x]+w[x]+p)%p;if(n.infiniteSlider){a=(a-w[x]+2*p)%p;m=!1;0==a&&2==p&&(a=p,y[a]=y[a-1]-b(c).eq(0).outerWidth(!0),m=!0);var l=y[a],l=l-t,A=[y[a]-b(f).width(),y[a]+b(f).width()];m&&y.splice(y.length-1,1);for(m= 0;m<A.length;m++)Math.abs(A[m]-t)<Math.abs(l)&&(l=A[m]-t);0>l&&-1==C?l+=b(f).width():0<l&&1==C&&(l-=b(f).width())}C=[];e.showScrollbar(n,g);for(m=0;m<=q;m++)A=m,A/=q,A--,A=t+l*(Math.pow(A,5)+1),C[C.length]=A;q=(a+w[x]+p)%p;for(m=t=0;m<C.length;m++){if(0==m||1<Math.abs(C[m]-t)||m>=C.length-2)t=C[m],v[m]=e.slowScrollHorizontalIntervalTimer(10*(m+1),f,c,C[m],g,d,h,r,N,I,a,s,y,u,p,z,x,G,q,n);0==m&&""!=n.onSlideStart&&(q=(B[x]+w[x]+p)%p,n.onSlideStart(new e.args("start",n,f,b(f).children(":eq("+q+")"), q,a)))}t=!1;n.infiniteSlider?q!=ba[x]&&(t=!0):a!=B[x]&&(t=!0);t&&""!=n.onSlideComplete&&(v[v.length]=e.onSlideCompleteTimer(10*(m+1),n,f,b(f).children(":eq("+q+")"),q,x));$[x]=v;e.hideScrollbar(n,v,m,C,g,d,h,N,I,x);e.autoSlide(f,c,v,g,d,h,r,N,I,s,y,z,x,u,p,G,n)},autoSlide:function(b,f,c,v,g,d,h,r,N,I,s,y,z,x,u,p,G){if(!T[z].autoSlide)return!1;e.autoSlidePause(z);ia[z]=setTimeout(function(){!G.infiniteSlider&&B[z]>s.length-1&&(B[z]-=u);e.changeSlide((B[z]+w[z]+s.length+1)%s.length,b,f,c,v,g,d,h,r, N,I,s,y,z,x,u,p,G);e.autoSlide(b,f,c,v,g,d,h,r,N,I,s,y,z,x,u,p,G)},G.autoSlideTimer+G.autoSlideTransTimer)},autoSlidePause:function(b){clearTimeout(ia[b])},isUnselectable:function(a,e){return""!=e.unselectableSelector&&1==b(a).closest(e.unselectableSelector).size()?!0:!1},slowScrollHorizontalIntervalTimer:function(b,f,c,v,g,d,h,r,w,B,s,y,z,x,u,p,G,n,m,q){return setTimeout(function(){e.slowScrollHorizontalInterval(f,c,v,g,d,h,r,w,B,s,y,z,x,u,p,G,n,m,q)},b)},onSlideCompleteTimer:function(b,f,c,v,h, d){return setTimeout(function(){e.onSlideComplete(f,c,v,h,d)},b)},hideScrollbarIntervalTimer:function(b,f,c,v,h,d,r,w,B,I){return setTimeout(function(){e.hideScrollbarInterval(f,c,v,h,d,r,w,B,I)},b)},args:function(a,f,c,v,h,d){this.prevSlideNumber=void 0==b(c).parent().data("args")?void 0:b(c).parent().data("args").prevSlideNumber;this.prevSlideObject=void 0==b(c).parent().data("args")?void 0:b(c).parent().data("args").prevSlideObject;this.targetSlideNumber=d+1;this.targetSlideObject=b(c).children(":eq("+ d+")");this.slideChanged=!1;"load"==a?this.targetSlideObject=this.targetSlideNumber=void 0:"start"==a?this.targetSlideObject=this.targetSlideNumber=void 0:"change"==a?(this.slideChanged=!0,this.prevSlideNumber=void 0==b(c).parent().data("args")?f.startAtSlide:b(c).parent().data("args").currentSlideNumber,this.prevSlideObject=b(c).children(":eq("+this.prevSlideNumber+")")):"complete"==a&&(this.slideChanged=b(c).parent().data("args").slideChanged);this.settings=f;this.data=b(c).parent().data("iosslider"); this.sliderObject=c;this.sliderContainerObject=b(c).parent();this.currentSlideObject=v;this.currentSlideNumber=h+1;this.currentSliderOffset=-1*e.getSliderOffset(c,"x")},preventDrag:function(b){b.preventDefault()},preventClick:function(b){b.stopImmediatePropagation();return!1},enableClick:function(){return!0}};e.setBrowserInfo();var V={init:function(a,f){ea=e.has3DTransform();var c=b.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6,snapFrictionCoefficient:0.92, snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1,scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9,desktopClickDrag:!1,keyboardControls:!1,tabToAdvance:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"", autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5E3,autoSlideTransTimer:750,autoSlideHoverPause:!0,infiniteSlider:!1,snapVelocityThreshold:5,slideStartVelocityThreshold:0,horizontalSlideLockThreshold:5,verticalSlideLockThreshold:3,stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSliderResize:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},a);void 0==f&&(f=this);return b(f).each(function(a){function f(){e.autoSlidePause(d); ua=b(F).find("a");ya=b(F).find("[onclick]");oa=b(F).find("*");b(m).css("width","");b(m).css("height","");b(F).css("width","");D=b(F).children().not("script").get();ga=[];M=[];c.responsiveSlides&&b(D).css("width","");r[d]=0;k=[];p=b(m).parent().width();q=b(m).outerWidth(!0);c.responsiveSlideContainer&&(q=b(m).outerWidth(!0)>p?p:b(m).outerWidth(!0));b(m).css({position:c.stageCSS.position,top:c.stageCSS.top,left:c.stageCSS.left,overflow:c.stageCSS.overflow,zIndex:c.stageCSS.zIndex,webkitPerspective:1E3, webkitBackfaceVisibility:"hidden",msTouchAction:"pan-y",width:q});b(c.unselectableSelector).css({cursor:"default"});for(var a=0;a<D.length;a++){ga[a]=b(D[a]).width();M[a]=b(D[a]).outerWidth(!0);var v=M[a];c.responsiveSlides&&(M[a]>q?(v=q+-1*(M[a]-ga[a]),ga[a]=v,M[a]=q):v=ga[a],b(D[a]).css({width:v}));b(D[a]).css({webkitBackfaceVisibility:"hidden",overflow:"hidden",position:"absolute"});k[a]=-1*r[d];r[d]=r[d]+v+(M[a]-ga[a])}c.snapSlideCenter&&(n=0.5*(q-M[0]),c.responsiveSlides&&M[0]>q&&(n=0));ta[d]= 2*r[d];for(a=0;a<D.length;a++)e.setSliderOffset(b(D[a]),-1*k[a]+r[d]+n),k[a]-=r[d];if(!c.infiniteSlider&&!c.snapSlideCenter){for(a=0;a<k.length&&!(k[a]<=-1*(2*r[d]-q));a++)ia=a;k.splice(ia+1,k.length);k[k.length]=-1*(2*r[d]-q)}for(a=0;a<k.length;a++)E[a]=k[a];J&&(c.startAtSlide=T[d].startAtSlide>k.length?k.length:T[d].startAtSlide,c.infiniteSlider?(c.startAtSlide=(T[d].startAtSlide-1+H)%H,B[d]=T[d].startAtSlide):(c.startAtSlide=0>T[d].startAtSlide-1?k.length-1:T[d].startAtSlide,B[d]=T[d].startAtSlide- 1),ba[d]=B[d]);h[d]=r[d]+n;b(F).css({position:"relative",cursor:ha,webkitPerspective:"0",webkitBackfaceVisibility:"hidden",width:r[d]+"px"});R=r[d];r[d]=2*r[d]-q+2*n;(Y=R<q||0==q?!0:!1)&&b(F).css({cursor:"default"});G=b(m).parent().outerHeight(!0);t=b(m).height();c.responsiveSlideContainer&&(t=t>G?G:t);b(m).css({height:t});e.setSliderOffset(F,k[B[d]]);if(c.infiniteSlider&&!Y){a=e.getSliderOffset(b(F),"x");for(v=-1*((w[d]+H)%H);0>v;){var g=0,A=e.getSliderOffset(b(D[0]),"x");b(D).each(function(b){e.getSliderOffset(this, "x")<A&&(A=e.getSliderOffset(this,"x"),g=b)});var L=h[d]+R;e.setSliderOffset(b(D)[g],L);h[d]=-1*k[1]+n;r[d]=h[d]+R-q;k.splice(0,1);k.splice(k.length,0,-1*L+n);v++}for(;0<-1*k[0]-R+n&&c.snapSlideCenter&&J;){var N=0,O=e.getSliderOffset(b(D[0]),"x");b(D).each(function(b){e.getSliderOffset(this,"x")>O&&(O=e.getSliderOffset(this,"x"),N=b)});L=h[d]-M[N];e.setSliderOffset(b(D)[N],L);k.splice(0,0,-1*L+n);k.splice(k.length-1,1);h[d]=-1*k[0]+n;r[d]=h[d]+R-q;w[d]--;B[d]++}for(;a<=-1*r[d];)g=0,A=e.getSliderOffset(b(D[0]), "x"),b(D).each(function(b){e.getSliderOffset(this,"x")<A&&(A=e.getSliderOffset(this,"x"),g=b)}),L=h[d]+R,e.setSliderOffset(b(D)[g],L),h[d]=-1*k[1]+n,r[d]=h[d]+R-q,k.splice(0,1),k.splice(k.length,0,-1*L+n),w[d]++,B[d]--}e.setSliderOffset(F,k[B[d]]);c.desktopClickDrag||b(F).css({cursor:"default"});c.scrollbar&&(b("."+I).css({margin:c.scrollbarMargin,overflow:"hidden",display:"none"}),b("."+I+" ."+s).css({border:c.scrollbarBorder}),l=parseInt(b("."+I).css("marginLeft"))+parseInt(b("."+I).css("marginRight")), C=parseInt(b("."+I+" ."+s).css("borderLeftWidth"),10)+parseInt(b("."+I+" ."+s).css("borderRightWidth"),10),x=""!=c.scrollbarContainer?b(c.scrollbarContainer).width():q,u=q/R*(x-l),c.scrollbarHide||(V=c.scrollbarOpacity),b("."+I).css({position:"absolute",left:0,width:x-l+"px",margin:c.scrollbarMargin}),"top"==c.scrollbarLocation?b("."+I).css("top","0"):b("."+I).css("bottom","0"),b("."+I+" ."+s).css({borderRadius:c.scrollbarBorderRadius,background:c.scrollbarBackground,height:c.scrollbarHeight,width:u- C+"px",minWidth:c.scrollbarHeight,border:c.scrollbarBorder,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",position:"relative",opacity:V,filter:"alpha(opacity:"+100*V+")",boxShadow:c.scrollbarShadow}),e.setSliderOffset(b("."+I+" ."+s),Math.floor((-1*k[B[d]]-h[d]+n)/(r[d]-h[d]+n)*(x-l-u))),b("."+I).css({display:"block"}),y=b("."+I+" ."+s),z=b("."+I));c.scrollbarDrag&&!Y&&b("."+I+" ."+s).css({cursor:ha});c.infiniteSlider&&(S=(r[d]+q)/3);""!=c.navSlideSelector&&b(c.navSlideSelector).each(function(a){b(this).css({cursor:"pointer"}); b(this).unbind(P).bind(P,function(f){"touchstart"==f.type?b(this).unbind("click.iosSliderEvent"):b(this).unbind("touchstart.iosSliderEvent");P=f.type+".iosSliderEvent";e.changeSlide(a,F,D,K,s,u,q,x,l,C,E,k,M,d,S,H,n,c)})});""!=c.navPrevSelector&&(b(c.navPrevSelector).css({cursor:"pointer"}),b(c.navPrevSelector).unbind(P).bind(P,function(a){"touchstart"==a.type?b(this).unbind("click.iosSliderEvent"):b(this).unbind("touchstart.iosSliderEvent");P=a.type+".iosSliderEvent";a=(B[d]+w[d]+H)%H;(0<a||c.infiniteSlider)&& e.changeSlide(a-1,F,D,K,s,u,q,x,l,C,E,k,M,d,S,H,n,c)}));""!=c.navNextSelector&&(b(c.navNextSelector).css({cursor:"pointer"}),b(c.navNextSelector).unbind(P).bind(P,function(a){"touchstart"==a.type?b(this).unbind("click.iosSliderEvent"):b(this).unbind("touchstart.iosSliderEvent");P=a.type+".iosSliderEvent";a=(B[d]+w[d]+H)%H;(a<k.length-1||c.infiniteSlider)&&e.changeSlide(a+1,F,D,K,s,u,q,x,l,C,E,k,M,d,S,H,n,c)}));c.autoSlide&&!Y&&""!=c.autoSlideToggleSelector&&(b(c.autoSlideToggleSelector).css({cursor:"pointer"}), b(c.autoSlideToggleSelector).unbind(P).bind(P,function(a){"touchstart"==a.type?b(this).unbind("click.iosSliderEvent"):b(this).unbind("touchstart.iosSliderEvent");P=a.type+".iosSliderEvent";va?(e.autoSlide(F,D,K,s,u,q,x,l,C,E,k,M,d,S,H,n,c),va=!1,b(c.autoSlideToggleSelector).removeClass("on")):(e.autoSlidePause(d),va=!0,b(c.autoSlideToggleSelector).addClass("on"))}));e.autoSlide(F,D,K,s,u,q,x,l,C,E,k,M,d,S,H,n,c);b(m).bind("mouseleave.iosSliderEvent",function(){e.autoSlide(F,D,K,s,u,q,x,l,C,E,k,M, d,S,H,n,c)});b(m).bind("touchend.iosSliderEvent",function(){e.autoSlide(F,D,K,s,u,q,x,l,C,E,k,M,d,S,H,n,c)});c.autoSlidePauseHover&&b(m).bind("mouseenter.iosSliderEvent",function(){e.autoSlidePause(d)});b(m).data("iosslider",{obj:za,settings:c,scrollerNode:F,slideNodes:D,numberOfSlides:H,centeredSlideOffset:n,sliderNumber:d,originalOffsets:E,childrenOffsets:k,sliderMax:r[d],scrollbarClass:s,scrollbarWidth:u,scrollbarStageWidth:x,stageWidth:q,scrollMargin:l,scrollBorder:C,infiniteSliderOffset:w[d], infiniteSliderWidth:S,slideNodeOuterWidths:M});J=!1;return!0}ma++;var d=ma,K=[];T[d]=c;h[d]=0;r[d]=0;var O=[0,0],N=[0,0],I="scrollbarBlock"+ma,s="scrollbar"+ma,y,z,x,u,p,G,n=0,m=b(this),q,t,l,C,A,J=!0;a=-1;var k,E=[],V=0,Q=0,ea=0,F=b(this).children(":first-child"),D,ga,M,H=b(F).children().not("script").size(),U=!1,ia=0,wa=!1,pa=void 0,S;w[d]=0;var Y=!1,va=!1;sa[d]=!1;var Z,qa=!1,ja=!1,P="touchstart.iosSliderEvent click.iosSliderEvent",R,ua,ya,oa;fa[d]=!1;$[d]=[];c.scrollbarDrag&&(c.scrollbar=!0,c.scrollbarHide= !1);var za=b(this);if(void 0!=za.data("iosslider"))return!0;b(this).find("img").bind("dragstart.iosSliderEvent",function(b){b.preventDefault()});c.infiniteSlider&&(c.scrollbar=!1);c.infiniteSlider&&1==H&&(c.infiniteSlider=!1);c.scrollbar&&(""!=c.scrollbarContainer?b(c.scrollbarContainer).append("<div class = '"+I+"'><div class = '"+s+"'></div></div>"):b(F).parent().append("<div class = '"+I+"'><div class = '"+s+"'></div></div>"));if(!f())return!0;b(this).find("a").bind("mousedown",e.preventDrag); b(this).find("[onclick]").bind("click",e.preventDrag).each(function(){b(this).data("onclick",this.onclick)});a=e.calcActiveOffset(c,e.getSliderOffset(b(F),"x"),k,q,w[d],H,void 0,d);a=(a+w[d]+H)%H;a=new e.args("load",c,F,b(F).children(":eq("+a+")"),a,a);b(m).data("args",a);if(""!=c.onSliderLoaded)c.onSliderLoaded(a);if(T[d].responsiveSlides||T[d].responsiveSlideContainer)a=Ba?"orientationchange":"resize",b(window).bind(a+".iosSliderEvent-"+d,function(){if(!f())return!0;var a=b(m).data("args");if(""!= c.onSliderResize)c.onSliderResize(a)});!c.keyboardControls&&!c.tabToAdvance||Y||b(document).bind("keydown.iosSliderEvent",function(b){aa||X||(b=b.originalEvent);if(37==b.keyCode&&c.keyboardControls)b.preventDefault(),b=(B[d]+w[d]+H)%H,(0<b||c.infiniteSlider)&&e.changeSlide(b-1,F,D,K,s,u,q,x,l,C,E,k,M,d,S,H,n,c);else if(39==b.keyCode&&c.keyboardControls||9==b.keyCode&&c.tabToAdvance)b.preventDefault(),b=(B[d]+w[d]+H)%H,(b<k.length-1||c.infiniteSlider)&&e.changeSlide(b+1,F,D,K,s,u,q,x,l,C,E,k,M,d,S, H,n,c)});if(Aa||c.desktopClickDrag){var ca=!1,ka=b(F),la=b(F),xa=!1;c.scrollbarDrag&&(ka=ka.add(y),la=la.add(z));b(ka).bind("mousedown.iosSliderEvent touchstart.iosSliderEvent",function(a){if(ca)return!0;ca=!0;"touchstart"==a.type?b(la).unbind("mousedown.iosSliderEvent"):b(la).unbind("touchstart.iosSliderEvent");if(fa[d]||Y||(xa=e.isUnselectable(a.target,c)))return U=ca=!1,!0;Z=b(this)[0]===b(y)[0]?y:F;aa||X||(a=a.originalEvent);e.autoSlidePause(d);oa.unbind(".disableClick");if("touchstart"==a.type)eventX= a.touches[0].pageX,eventY=a.touches[0].pageY;else{if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges();else if(document.selection)if(X)try{document.selection.empty()}catch(f){}else document.selection.empty();eventX=a.pageX;eventY=a.pageY;wa=!0;pa=F;b(this).css({cursor:ra})}O=[0,0];N=[0,0];W=0;U=!1;for(a=0;a<K.length;a++)clearTimeout(K[a]);a=e.getSliderOffset(F,"x");a>-1*h[d]+n+R?(a=-1*h[d]+n+ R,e.setSliderOffset(b("."+s),a),b("."+s).css({width:u-C+"px"})):a<-1*r[d]&&(e.setSliderOffset(b("."+s),x-l-u),b("."+s).css({width:u-C+"px"}));a=b(this)[0]===b(y)[0]?h[d]:0;Q=-1*(e.getSliderOffset(this,"x")-eventX-a);e.getSliderOffset(this,"y");O[1]=eventX;N[1]=eventY;ja=!1});b(la).bind("touchmove.iosSliderEvent mousemove.iosSliderEvent",function(a){aa||X||(a=a.originalEvent);if(fa[d]||Y||xa)return!0;var f=0;if("touchmove"==a.type)eventX=a.touches[0].pageX,eventY=a.touches[0].pageY;else{if(window.getSelection)window.getSelection().empty|| window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges();else if(document.selection)if(X)try{document.selection.empty()}catch(v){}else document.selection.empty();eventX=a.pageX;eventY=a.pageY;if(!wa||!na&&("undefined"!=typeof a.webkitMovementX||"undefined"!=typeof a.webkitMovementY)&&0===a.webkitMovementY&&0===a.webkitMovementX)return!0}O[0]=O[1];O[1]=eventX;W=(O[1]-O[0])/2;N[0]=N[1];N[1]=eventY;da=(N[1]-N[0])/2;if(!U){var g=(B[d]+w[d]+H)%H,g=new e.args("start",c,F,b(F).children(":eq("+ g+")"),g,void 0);b(m).data("args",g);if(""!=c.onSlideStart)c.onSlideStart(g)}(da>c.verticalSlideLockThreshold||da<-1*c.verticalSlideLockThreshold)&&("touchmove"==a.type&&!U)&&(qa=!0);(W>c.horizontalSlideLockThreshold||W<-1*c.horizontalSlideLockThreshold)&&"touchmove"==a.type&&a.preventDefault();if(W>c.slideStartVelocityThreshold||W<-1*c.slideStartVelocityThreshold)U=!0;if(U&&!qa){var g=e.getSliderOffset(F,"x"),p=b(Z)[0]===b(y)[0]?h[d]:n,t=b(Z)[0]===b(y)[0]?(h[d]-r[d]-n)/(scrollbarStageHeight-l-scrollbarHeight): 1,z=b(Z)[0]===b(y)[0]?c.scrollbarElasticPullResistance:c.elasticPullResistance,G=c.snapSlideCenter&&b(Z)[0]===b(y)[0]?0:n,I=c.snapSlideCenter&&b(Z)[0]===b(y)[0]?n:0;"touchmove"==a.type&&(ea!=a.touches.length&&(Q=-1*g+eventX),ea=a.touches.length);if(c.infiniteSlider){if(g<=-1*r[d]){var J=b(F).width();if(g<=-1*ta[d]){var K=-1*E[0];b(D).each(function(a){e.setSliderOffset(b(D)[a],K+n);a<k.length&&(k[a]=-1*K);K+=M[a]});Q-=-1*k[0];h[d]=-1*k[0]+n;r[d]=h[d]+J-q;w[d]=0}else{var S=0,T=e.getSliderOffset(b(D[0]), "x");b(D).each(function(b){e.getSliderOffset(this,"x")<T&&(T=e.getSliderOffset(this,"x"),S=b)});z=h[d]+J;e.setSliderOffset(b(D)[S],z);h[d]=-1*k[1]+n;r[d]=h[d]+J-q;k.splice(0,1);k.splice(k.length,0,-1*z+n);w[d]++}}if(g>=-1*h[d]||0<=g)if(J=b(F).width(),0<=g)for(K=-1*E[0],b(D).each(function(a){e.setSliderOffset(b(D)[a],K+n);a<k.length&&(k[a]=-1*K);K+=M[a]}),Q+=-1*k[0],h[d]=-1*k[0]+n,r[d]=h[d]+J-q,w[d]=H;0<-1*k[0]-J+n;){var P=0,R=e.getSliderOffset(b(D[0]),"x");b(D).each(function(b){e.getSliderOffset(this, "x")>R&&(R=e.getSliderOffset(this,"x"),P=b)});z=h[d]-M[P];e.setSliderOffset(b(D)[P],z);k.splice(0,0,-1*z+n);k.splice(k.length-1,1);h[d]=-1*k[0]+n;r[d]=h[d]+J-q;w[d]--;B[d]++}else P=0,R=e.getSliderOffset(b(D[0]),"x"),b(D).each(function(b){e.getSliderOffset(this,"x")>R&&(R=e.getSliderOffset(this,"x"),P=b)}),z=h[d]-M[P],e.setSliderOffset(b(D)[P],z),k.splice(0,0,-1*z+n),k.splice(k.length-1,1),h[d]=-1*k[0]+n,r[d]=h[d]+J-q,w[d]--}else J=b(F).width(),g>-1*h[d]+n&&(f=-1*(h[d]+-1*(Q-p-eventX+G)*t-p)*z/t), g<-1*r[d]&&(f=-1*(r[d]+I+-1*(Q-p-eventX)*t-p)*z/t);e.setSliderOffset(F,-1*(Q-p-eventX-f)*t-p+I);c.scrollbar&&(e.showScrollbar(c,s),L=Math.floor((Q-eventX-f-h[d]+G)/(r[d]-h[d]+n)*(x-l-u)*t),g=u,0>=L?(g=u-C- -1*L,e.setSliderOffset(b("."+s),0),b("."+s).css({width:g+"px"})):L>=x-l-C-u?(g=x-l-C-L,e.setSliderOffset(b("."+s),L),b("."+s).css({width:g+"px"})):e.setSliderOffset(b("."+s),L));"touchmove"==a.type&&(A=a.touches[0].pageX);a=!1;f=e.calcActiveOffset(c,-1*(Q-eventX-f),k,q,w[d],H,void 0,d);g=(f+w[d]+ H)%H;c.infiniteSlider?g!=ba[d]&&(a=!0):f!=B[d]&&(a=!0);if(a&&(B[d]=f,ba[d]=g,ja=!0,g=new e.args("change",c,F,b(F).children(":eq("+g+")"),g,g),b(m).data("args",g),""!=c.onSlideChange))c.onSlideChange(g)}ca=!1});a=b(window);if(X||aa)a=b(document);b(ka).bind("touchend.iosSliderEvent",function(b){b=b.originalEvent;if(fa[d]||Y||xa)return!0;if(0!=b.touches.length)for(var a=0;a<b.touches.length;a++)b.touches[a].pageX==A&&e.slowScrollHorizontal(F,D,K,s,W,da,u,q,x,l,C,E,k,M,d,S,H,Z,ja,n,c);else e.slowScrollHorizontal(F, D,K,s,W,da,u,q,x,l,C,E,k,M,d,S,H,Z,ja,n,c);ca=qa=!1});b(a).bind("mouseup.iosSliderEvent-"+d,function(a){U?ua.unbind("click.disableClick").bind("click.disableClick",e.preventClick):ua.unbind("click.disableClick").bind("click.disableClick",e.enableClick);ya.each(function(){this.onclick=function(a){if(U)return!1;b(this).data("onclick").call(this,a||window.event)}});1.8<=parseFloat(b().jquery)?oa.each(function(){var a=b._data(this,"events");if(void 0!=a&&void 0!=a.click&&"iosSliderEvent"!=a.click[0].namespace){if(!U)return!1; b(this).one("click.disableClick",e.preventClick);var a=b._data(this,"events").click,c=a.pop();a.splice(0,0,c)}}):1.6<=parseFloat(b().jquery)&&oa.each(function(){var a=b(this).data("events");if(void 0!=a&&void 0!=a.click&&"iosSliderEvent"!=a.click[0].namespace){if(!U)return!1;b(this).one("click.disableClick",e.preventClick);var a=b(this).data("events").click,c=a.pop();a.splice(0,0,c)}});if(!sa[d]){if(Y)return!0;b(ka).css({cursor:ha});wa=!1;if(void 0==pa)return!0;e.slowScrollHorizontal(pa,D,K,s,W,da, u,q,x,l,C,E,k,M,d,S,H,Z,ja,n,c);pa=void 0}ca=qa=!1})}})},destroy:function(a,f){void 0==f&&(f=this);return b(f).each(function(){var c=b(this),f=c.data("iosslider");if(void 0==f)return!1;void 0==a&&(a=!0);e.autoSlidePause(f.sliderNumber);sa[f.sliderNumber]=!0;b(window).unbind(".iosSliderEvent-"+f.sliderNumber);b(document).unbind(".iosSliderEvent-"+f.sliderNumber);b(document).unbind("keydown.iosSliderEvent");b(this).unbind(".iosSliderEvent");b(this).children(":first-child").unbind(".iosSliderEvent"); b(this).children(":first-child").children().unbind(".iosSliderEvent");a&&(b(this).attr("style",""),b(this).children(":first-child").attr("style",""),b(this).children(":first-child").children().attr("style",""),b(f.settings.navSlideSelector).attr("style",""),b(f.settings.navPrevSelector).attr("style",""),b(f.settings.navNextSelector).attr("style",""),b(f.settings.autoSlideToggleSelector).attr("style",""),b(f.settings.unselectableSelector).attr("style",""));f.settings.scrollbar&&b(".scrollbarBlock"+ f.sliderNumber).remove();for(var f=$[f.sliderNumber],g=0;g<f.length;g++)clearTimeout(f[g]);c.removeData("iosslider");c.removeData("args")})},update:function(a){void 0==a&&(a=this);return b(a).each(function(){var a=b(this),c=a.data("iosslider");if(void 0==c)return!1;c.settings.startAtSlide=a.data("args").currentSlideNumber;V.destroy(!1,this);1!=c.numberOfSlides&&c.settings.infiniteSlider&&(c.settings.startAtSlide=(B[c.sliderNumber]+1+w[c.sliderNumber]+c.numberOfSlides)%c.numberOfSlides);V.init(c.settings, this);a=new e.args("update",c.settings,c.scrollerNode,b(c.scrollerNode).children(":eq("+(c.settings.startAtSlide-1)+")"),c.settings.startAtSlide-1,c.settings.startAtSlide-1);b(c.stageNode).data("args",a);if(""!=c.settings.onSliderUpdate)c.settings.onSliderUpdate(a)})},addSlide:function(a,e){return this.each(function(){var c=b(this),h=c.data("iosslider");if(void 0==h)return!1;0==b(h.scrollerNode).children().size()?(b(h.scrollerNode).append(a),c.data("args").currentSlideNumber=1):h.settings.infiniteSlider? (1==e?b(h.scrollerNode).children(":eq(0)").before(a):b(h.scrollerNode).children(":eq("+(e-2)+")").after(a),-1>w[h.sliderNumber]&&B[h.sliderNumber]--,c.data("args").currentSlideNumber>=e&&B[h.sliderNumber]++):(e<=h.numberOfSlides?b(h.scrollerNode).children(":eq("+(e-1)+")").before(a):b(h.scrollerNode).children(":eq("+(e-2)+")").after(a),c.data("args").currentSlideNumber>=e&&c.data("args").currentSlideNumber++);c.data("iosslider").numberOfSlides++;V.update(this)})},removeSlide:function(a){return this.each(function(){var e= b(this).data("iosslider");if(void 0==e)return!1;b(e.scrollerNode).children(":eq("+(a-1)+")").remove();B[e.sliderNumber]>a-1&&B[e.sliderNumber]--;V.update(this)})},goToSlide:function(a,f){void 0==f&&(f=this);return b(f).each(function(){var c=b(this).data("iosslider");if(void 0==c)return!1;a=a>c.childrenOffsets.length?c.childrenOffsets.length-1:a-1;e.changeSlide(a,b(c.scrollerNode),b(c.slideNodes),$[c.sliderNumber],c.scrollbarClass,c.scrollbarWidth,c.stageWidth,c.scrollbarStageWidth,c.scrollMargin, c.scrollBorder,c.originalOffsets,c.childrenOffsets,c.slideNodeOuterWidths,c.sliderNumber,c.infiniteSliderWidth,c.numberOfSlides,c.centeredSlideOffset,c.settings);B[c.sliderNumber]=a})},prevSlide:function(){return this.each(function(){var a=b(this).data("iosslider");if(void 0==a)return!1;var f=(B[a.sliderNumber]+w[a.sliderNumber]+a.numberOfSlides)%a.numberOfSlides;(0<f||a.settings.infiniteSlider)&&e.changeSlide(f-1,b(a.scrollerNode),b(a.slideNodes),$[a.sliderNumber],a.scrollbarClass,a.scrollbarWidth, a.stageWidth,a.scrollbarStageWidth,a.scrollMargin,a.scrollBorder,a.originalOffsets,a.childrenOffsets,a.slideNodeOuterWidths,a.sliderNumber,a.infiniteSliderWidth,a.numberOfSlides,a.centeredSlideOffset,a.settings);B[a.sliderNumber]=f})},nextSlide:function(){return this.each(function(){var a=b(this).data("iosslider");if(void 0==a)return!1;var f=(B[a.sliderNumber]+w[a.sliderNumber]+a.numberOfSlides)%a.numberOfSlides;(f<a.childrenOffsets.length-1||a.settings.infiniteSlider)&&e.changeSlide(f+1,b(a.scrollerNode), b(a.slideNodes),$[a.sliderNumber],a.scrollbarClass,a.scrollbarWidth,a.stageWidth,a.scrollbarStageWidth,a.scrollMargin,a.scrollBorder,a.originalOffsets,a.childrenOffsets,a.slideNodeOuterWidths,a.sliderNumber,a.infiniteSliderWidth,a.numberOfSlides,a.centeredSlideOffset,a.settings);B[a.sliderNumber]=f})},lock:function(){return this.each(function(){var a=b(this).data("iosslider");if(void 0==a)return!1;fa[a.sliderNumber]=!0})},unlock:function(){return this.each(function(){var a=b(this).data("iosslider"); if(void 0==a)return!1;fa[a.sliderNumber]=!1})},getData:function(){return this.each(function(){var a=b(this).data("iosslider");return void 0==a?!1:a})},autoSlidePause:function(){return this.each(function(){var a=b(this).data("iosslider");if(void 0==a)return!1;T[a.sliderNumber].autoSlide=!1;e.autoSlidePause(a.sliderNumber);return a})},autoSlidePlay:function(){return this.each(function(){var a=b(this).data("iosslider");if(void 0==a)return!1;T[a.sliderNumber].autoSlide=!0;e.autoSlide(b(a.scrollerNode), b(a.slideNodes),$[a.sliderNumber],a.scrollbarClass,a.scrollbarWidth,a.stageWidth,a.scrollbarStageWidth,a.scrollMargin,a.scrollBorder,a.originalOffsets,a.childrenOffsets,a.slideNodeOuterWidths,a.sliderNumber,a.infiniteSliderWidth,a.numberOfSlides,a.centeredSlideOffset,a.settings);return a})}};b.fn.iosSlider=function(a){if(V[a])return V[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)b.error("invalid method call!");else return V.init.apply(this,arguments)}})(jQuery);